<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://blog.ikozn.com/</id>
    <title>Hooyu&apos;s Note</title>
    <updated>2021-05-18T02:04:40.098Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://blog.ikozn.com/"/>
    <link rel="self" href="https://blog.ikozn.com/atom.xml"/>
    <subtitle>ğŸ—»æç¯ç…§èƒ†çœ‹æ±Ÿå±±</subtitle>
    <logo>https://blog.ikozn.com/images/avatar.png</logo>
    <icon>https://blog.ikozn.com/favicon.ico</icon>
    <rights>All rights reserved 2021, Hooyu&apos;s Note</rights>
    <entry>
        <title type="html"><![CDATA[JavaScriptç¬”è®°ï¼šè¿­ä»£å™¨å’Œç”Ÿæˆå™¨]]></title>
        <id>https://blog.ikozn.com/post/javascript-bi-ji-die-dai-qi-he-sheng-cheng-qi/</id>
        <link href="https://blog.ikozn.com/post/javascript-bi-ji-die-dai-qi-he-sheng-cheng-qi/">
        </link>
        <updated>2021-05-16T15:25:00.000Z</updated>
        <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<blockquote>
<p>ç»™å¤ä¹ æ—¶çš„è‡ªå·±çœ‹ï¼Œå¿«é€Ÿå›é¡¾</p>
</blockquote>
<h2 id="è¿­ä»£å™¨å¿«é€Ÿå›é¡¾">è¿­ä»£å™¨å¿«é€Ÿå›é¡¾</h2>
<ol>
<li>
<p>è¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯ä»¥ç”±ä»»æ„å¯¹è±¡å®ç°çš„æ¥å£ï¼Œæ”¯æŒè¿ç»­è·å–å¯¹è±¡äº§å‡ºçš„æ¯ä¸€ä¸ªå€¼ã€‚</p>
</li>
<li>
<p>ä»»ä½•å®ç°<code>Iterable</code>æ¥å£çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª<code>Symbol.iterator</code>å±æ€§ï¼Œè¿™ä¸ªå±æ€§å¼•ç”¨é»˜è®¤è¿­ä»£å™¨ã€‚</p>
</li>
<li>
<p>é»˜è®¤è¿­ä»£å™¨å°±åƒä¸€ä¸ªè¿­ä»£å™¨å·¥å‚ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè°ƒç”¨ä¹‹åä¼šäº§ç”Ÿä¸€ä¸ªå®ç°<code>Iterator</code>æ¥å£çš„å¯¹è±¡</p>
<p>è¿™ä¸ªæ¥å£å¯ä»¥é€šè¿‡æ‰‹åŠ¨åå¤è°ƒç”¨<code>next()</code>æ–¹æ³•æ¥æ¶ˆè´¹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŸç”Ÿæ¶ˆè´¹è€…ï¼Œæ¯”å¦‚<code>for-of</code>å¾ªç¯æ¥è‡ªåŠ¨æ¶ˆè´¹ã€‚</p>
</li>
<li>
<p>è¿­ä»£å™¨å¿…é¡»é€šè¿‡è¿ç»­è°ƒç”¨<code>next()</code>æ–¹æ³•æ‰èƒ½è¿ç»­å–å¾—å€¼ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª<code>IteratorObject</code>ã€‚</p>
</li>
<li>
<p>è¿™ä¸ªå¯¹è±¡åŒ…å«ä¸€ä¸ª<code>done</code>å±æ€§å’Œä¸€ä¸ª<code>value</code>å±æ€§ã€‚</p>
<p>å‰è€…æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¿˜æœ‰æ›´å¤šå€¼å¯ä»¥è®¿é—®ï¼Œåè€…åŒ…å«è¿­ä»£å™¨è¿”å›çš„å½“å‰å€¼</p>
</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:center">æ¦‚å¿µ</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">è¿­ä»£å™¨æ¨¡å¼</td>
<td style="text-align:left">åˆ†ç¦»åˆ†ç¦»<code>Iterable</code>ï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰å’Œ<code>Iterator</code>ï¼ˆè¿­ä»£å™¨ï¼‰ï¼Œçš„ä¸€ç§æ¨¡å¼ã€‚<br />è¿­ä»£å™¨æ— é¡»äº†è§£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„ç»“æ„ï¼Œåªéœ€è¦çŸ¥é“å¦‚ä½•å–å¾—è¿ç»­çš„å€¼ï¼ˆä¸‹ä¸€ä¸ªå€¼ï¼‰</td>
</tr>
<tr>
<td style="text-align:center">è¿­ä»£åè®®</td>
<td style="text-align:left">åˆ†ä¸º<strong>å¯è¿­ä»£åè®®</strong>å’Œ<strong>è¿­ä»£å™¨åè®®</strong>ï¼Œä¸€ç§çº¦å®šï¼Œä»»ä½•å¯¹è±¡åªè¦éµå¾ªçº¦å®šå°±å¯ä»¥å®ç°</td>
</tr>
<tr>
<td style="text-align:center">å¯è¿­ä»£å¯¹è±¡</td>
<td style="text-align:left">æœ‰<code>[Symbol.iterator]()</code>æ–¹æ³•çš„å¯¹è±¡ï¼Œå½“ç„¶è¿™ä¸ªæ–¹æ³•è¦éµå¾ªçº¦å®š</td>
</tr>
<tr>
<td style="text-align:center">Iterable æ¥å£</td>
<td style="text-align:left">å°±æ˜¯å¯¹è±¡ä¸Šçš„<code>[Symbol.iterator]()</code>æ–¹æ³•</td>
</tr>
<tr>
<td style="text-align:center">Iterrator</td>
<td style="text-align:left">è¿­ä»£å™¨ï¼Œç”±<code>[Symbol.iterator]()</code>æ–¹æ³•ç”Ÿäº§å‡ºæ¥çš„å¯¹è±¡ï¼Œæœ‰<code>next()</code>æ–¹æ³•<br />è°ƒç”¨è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡é‡Œæœ‰å½“å‰è¿­ä»£å™¨çš„çŠ¶æ€å’Œè·å–åˆ°çš„å€¼</td>
</tr>
</tbody>
</table>
<p><strong>è‡ªå®šä¹‰è¿­ä»£å™¨ï¼š</strong></p>
<pre><code class="language-js">class Counter {
  constructor(limit) {
    this.limit = limit;
  }

  // -  Iterable æ¥å£
  [Symbol.iterator]() {
    let count = 1,
        limit = this.limit;

    // - è¿”å› Iteratorï¼ˆè¿­ä»£å™¨ï¼‰
    return {
      next() {
        if (count &lt;= limit) {
          // - è¿”å› IteratorResult å¯¹è±¡ 
          return { done: false, value: count++ };
        } else {
          // - è¿”å› IteratorResult å¯¹è±¡ 
          return { done: true, value: undefined };
        }
      },
      // - Iteratorï¼ˆè¿­ä»£å™¨ï¼‰ è¿”å› è¿­ä»£å™¨æœ¬èº«
      [Symbol.iterator]() {
          return this
      }
    };
  }
}

let counter = new Counter(3);

for (let i of counter) { console.log(i); }
// 1
// 2
// 3

for (let i of counter) { console.log(i); }
// 1
// 2
// 3

let iter1 = counter[Symbol.iterator]();
let iter2 = iter1[Symbol.iterator]();
console.log(iter1 === iter2);         // true
</code></pre>
<p><strong>æ¥æ”¶å¯è¿­ä»£å¯¹è±¡çš„åŸç”Ÿè¯­è¨€ç‰¹æ€§ï¼š</strong></p>
<ul>
<li><code>for-of</code>å¾ªç¯</li>
<li>æ•°ç»„è§£æ„</li>
<li>æ‰©å±•æ“ä½œç¬¦</li>
<li><code>Array.from()</code></li>
<li>åˆ›å»ºé›†åˆ</li>
<li>åˆ›å»ºæ˜ å°„</li>
<li><code>Promise.all()</code>æ¥æ”¶ç”±æœŸçº¦ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡</li>
<li><code>Promise.race()</code>æ¥æ”¶ç”±æœŸçº¦ç»„æˆçš„å¯è¿­ä»£å¯¹è±¡</li>
<li><code>yield*</code>æ“ä½œç¬¦ï¼Œåœ¨ç”Ÿæˆå™¨ä¸­ä½¿ç”¨</li>
</ul>
<p>è¿™äº›åŸç”Ÿè¯­è¨€ç»“æ„ä¼šåœ¨åå°è°ƒç”¨æä¾›çš„å¯è¿­ä»£å¯¹è±¡çš„è¿™ä¸ªå·¥å‚å‡½æ•°ï¼ˆä¹Ÿå°±æ˜¯<code>Symbol.iterator</code>ï¼‰ï¼Œä»è€Œåˆ›å»ºä¸€ä¸ªè¿­ä»£å™¨ï¼š</p>
<pre><code class="language-js">let arr = ['foo', 'bar', 'baz'];

// for-ofå¾ªç¯
for (let el of arr) {
  console.log(el);
}
// foo
// bar
// baz

// æ•°ç»„è§£æ„
let [a, b, c] = arr;
console.log(a, b, c); // foo, bar, baz

// æ‰©å±•æ“ä½œç¬¦
let arr2 = [...arr];
console.log(arr2); // ['foo', 'bar', 'baz']

// Array.from()
let arr3 = Array.from(arr);
console.log(arr3); // ['foo', 'bar', 'baz']

// Setæ„é€ å‡½æ•°
let set = new Set(arr);
console.log(set); // Set(3) {'foo', 'bar', 'baz'}

// Mapæ„é€ å‡½æ•°
let pairs = arr.map((x, i) =&gt; [x, i]);
console.log(pairs); // [['foo', 0], ['bar', 1], ['baz', 2]]
let map = new Map(pairs);
console.log(map); // Map(3) { 'foo'=&gt;0, 'bar'=&gt;1, 'baz'=&gt;2 }
</code></pre>
<h2 id="ç”Ÿæˆå™¨å¿«é€Ÿå›é¡¾">ç”Ÿæˆå™¨å¿«é€Ÿå›é¡¾</h2>
<ol>
<li>
<p>ç”Ÿæˆå™¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œè°ƒç”¨ä¹‹åä¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚</p>
</li>
<li>
<p>ç”Ÿæˆå™¨å¯¹è±¡å®ç°äº†<code>Iterable</code>æ¥å£ï¼Œå› æ­¤å¯ç”¨åœ¨ä»»ä½•æ¶ˆè´¹å¯è¿­ä»£å¯¹è±¡çš„åœ°æ–¹ã€‚</p>
</li>
<li>
<p>ç”Ÿæˆå™¨çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºæ”¯æŒ<code>yield</code>å…³é”®å­—ï¼Œè¿™ä¸ªå…³é”®å­—èƒ½å¤Ÿæš‚åœæ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°</p>
</li>
<li>
<p>ä½¿ç”¨<code>yield</code>å…³é”®å­—è¿˜å¯ä»¥é€šè¿‡<code>next()</code>æ–¹æ³•æ¥æ”¶è¾“å…¥å’Œäº§ç”Ÿè¾“å‡ºã€‚</p>
</li>
<li>
<p>åœ¨åŠ ä¸Šæ˜Ÿå·ä¹‹åï¼Œ<code>yield</code>å…³é”®å­—å¯ä»¥å°†è·Ÿåœ¨å®ƒåé¢çš„å¯è¿­ä»£å¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€è¿ä¸²å€¼ï¼ˆè®©æƒæ‰§è¡Œå¦ä¸€ä¸ªè¿­ä»£å™¨ï¼‰ã€‚</p>
</li>
</ol>
<p><strong>è¡¨ç°å½¢å¼ï¼š</strong></p>
<pre><code class="language-js">function* generatorFn() {
  yield 1;
  yield 2;
  yield 3;
}

for (const x of generatorFn()) {
  console.log(x);
}
// 1
// 2
// 3
</code></pre>
<h1 id="è¿­ä»£å™¨">è¿­ä»£å™¨</h1>
<h2 id="what">What</h2>
<h3 id="è¿­ä»£å™¨æ¨¡å¼å’Œè¿­ä»£åè®®æ˜¯ä»€ä¹ˆ">è¿­ä»£å™¨æ¨¡å¼å’Œè¿­ä»£åè®®æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>
<p>è¿­ä»£å™¨æ¨¡å¼æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è¿­ä»£å™¨æ¨¡å¼</strong>æ˜¯GoFè®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ç§è¡Œä¸ºå‹æ¨¡å¼ï¼Œæä¾›ä¸€ä¸ªå¯¹è±¡æ¥é¡ºåºè®¿é—®èšåˆå¯¹è±¡ä¸­çš„ä¸€ç³»åˆ—æ•°æ®ï¼Œè€Œä¸æš´éœ²èšåˆå¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p>
<p>åœ¨è¿™é‡Œï¼ˆECMAScriptï¼‰çš„å…·ä½“è¡¨ç°ä¸ºåˆ†ç¦»<code>Iterable</code>ï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰å’Œ<code>Iterator</code>ï¼ˆè¿­ä»£å™¨ï¼‰</p>
<p>è¿­ä»£å™¨æ— é¡»äº†è§£ä¸å…¶å…³è”çš„å¯è¿­ä»£å¯¹è±¡çš„ç»“æ„ï¼Œåªéœ€è¦çŸ¥é“å¦‚ä½•å–å¾—è¿ç»­çš„å€¼ï¼ˆä¸‹ä¸€ä¸ªå€¼ï¼‰</p>
</li>
<li>
<p>è¿­ä»£åè®®æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ECMAScript 2015 çš„ä¸€ç»„è¡¥å……è§„èŒƒï¼Œè¿­ä»£åè®®å¹¶ä¸æ˜¯æ–°çš„å†…ç½®å®ç°æˆ–è¯­æ³•ï¼Œè€Œæ˜¯<em>åè®®</em>ã€‚è¿™äº›åè®®å¯ä»¥è¢«ä»»ä½•éµå¾ªæŸäº›çº¦å®šçš„å¯¹è±¡æ¥å®ç°ã€‚</p>
<p>è¿­ä»£åè®®å…·ä½“åˆ†ä¸ºä¸¤ä¸ªåè®®ï¼š[å¯è¿­ä»£åè®®](#å¯è¿­ä»£åè®® ä¸ Iterable æ¥å£ æ˜¯ä»€ä¹ˆï¼Ÿ)å’Œ[è¿­ä»£å™¨åè®®](#è¿­ä»£å™¨åè®® ä¸ Iterator  æ˜¯ä»€ä¹ˆï¼Ÿ)ã€‚</p>
</li>
</ol>
<h3 id="å¯è¿­ä»£å¯¹è±¡iterable-æ˜¯ä»€ä¹ˆ">å¯è¿­ä»£å¯¹è±¡/iterable æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>æŠŠæ»¡è¶³<strong>ç‰¹å®šæ¡ä»¶</strong>çš„ç»“æ„ç§°ä¸º**â€œå¯è¿­ä»£å¯¹è±¡â€ï¼ˆiterableï¼‰**ï¼Œä¾‹å¦‚æ•°ç»„æˆ–é›†åˆè¿™æ ·çš„é›†åˆç±»å‹çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯è‡ªå®šä¹‰çš„å¯¹è±¡ã€‚</p>
<pre><code class="language-js">// æ•°ç»„çš„å…ƒç´ æ˜¯æœ‰é™çš„
// é€’å¢ç´¢å¼•å¯ä»¥æŒ‰åºè®¿é—®æ¯ä¸ªå…ƒç´ 
let arr = [3, 1, 4];

// é›†åˆçš„å…ƒç´ æ˜¯æœ‰é™çš„
// å¯ä»¥æŒ‰æ’å…¥é¡ºåºè®¿é—®æ¯ä¸ªå…ƒç´ 
let set = new Set().add(3).add(1).add(4);
</code></pre>
<p>ç‰¹å®šçš„æ¡ä»¶æœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>å®ç°äº†æ­£å¼çš„[Iterableæ¥å£](#å¯è¿­ä»£åè®® ä¸ Iterable æ¥å£ æ˜¯ä»€ä¹ˆï¼Ÿ)</li>
<li>å®ç°çš„<code>Iterable</code>æ¥å£å¯ä»¥é€šè¿‡è¿­ä»£å™¨<code>Iterator</code>è¿­ä»£</li>
</ol>
<h3 id="å¯è¿­ä»£åè®®-ä¸-iterable-æ¥å£-æ˜¯ä»€ä¹ˆ">å¯è¿­ä»£åè®® ä¸ Iterable æ¥å£ æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>
<p>å¯è¿­ä»£åè®®æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å¯è¿­ä»£åè®®å¹¶ä¸æ˜¯æ–°çš„å†…ç½®å®ç°æˆ–è¯­æ³•ï¼Œè€Œæ˜¯***åè®®***ï¼Œè¿™ä¸ªåè®®å¯ä»¥è¢«ä»»ä½•éµå¾ªæŸäº›çº¦å®šçš„å¯¹è±¡æ¥å®ç°ï¼Œå½“æŸä¸ªå¯¹è±¡å®ç°äº†<code>Iterable</code>æ¥å£å¯ä»¥è§†ä¸ºå®ç°äº†å¯è¿­ä»£åè®®ã€‚</p>
</li>
<li>
<p><code>Iterable</code>æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><code>Iterable</code>æ¥å£æŒ‡çš„æ˜¯å¯¹è±¡ä¸Šä½¿ç”¨<code>Symbol.iterator</code>ä½œä¸ºé”®çš„ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªè¿­ä»£å™¨å·¥å‚å‡½æ•°ï¼Œè°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªæ–°[è¿­ä»£å™¨](#è¿­ä»£å™¨åè®® ä¸ Iterator  æ˜¯ä»€ä¹ˆï¼Ÿ)</p>
<table>
<thead>
<tr>
<th style="text-align:left">å±æ€§</th>
<th style="text-align:left">å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>[Symbol.iterator]</code></td>
<td style="text-align:left">ä¸€ä¸ªæ— å‚æ•°çš„å‡½æ•°ï¼Œå…¶è¿”å›å€¼ä¸ºä¸€ä¸ªç¬¦åˆ[è¿­ä»£å™¨åè®®](#è¿­ä»£å™¨åè®® ä¸ Iterator  æ˜¯ä»€ä¹ˆï¼Ÿ)çš„å¯¹è±¡</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="è¿­ä»£å™¨åè®®-ä¸-iteratorè¿­ä»£å™¨-æ˜¯ä»€ä¹ˆ">è¿­ä»£å™¨åè®® ä¸ Iteratorï¼ˆè¿­ä»£å™¨ï¼‰  æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>
<p><strong>è¿­ä»£å™¨åè®® æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p><strong>è¿­ä»£å™¨åè®®</strong>å®šä¹‰äº†äº§ç”Ÿä¸€ç³»åˆ—å€¼ï¼ˆæ— è®ºæ˜¯æœ‰é™ä¸ªè¿˜æ˜¯æ— é™ä¸ªï¼‰çš„æ ‡å‡†æ–¹å¼ã€‚å½“å€¼ä¸ºæœ‰é™ä¸ªæ—¶ï¼Œæ‰€æœ‰çš„å€¼éƒ½è¢«è¿­ä»£å®Œæ¯•åï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªé»˜è®¤è¿”å›å€¼ã€‚</p>
<p><strong>å®ç°äº†<code>Iterator</code>å°±ç›¸å½“äºå®ç°äº†è¿­ä»£å™¨åè®®ã€‚</strong></p>
</li>
<li>
<p><strong>Iteratorï¼ˆè¿­ä»£å™¨ï¼‰ æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>å…¶å®å°±æ˜¯æŒ‡ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«ç€<code>next()</code>å’Œ<code>return()</code>ï¼ˆå¯é€‰ï¼‰ä¸¤ä¸ªæ–¹æ³•ã€‚<br>
è°ƒç”¨<code>Iterable</code>ï¼ˆå¯è¿­ä»£åè®®æ¥å£ï¼‰è¿”å›<code>Iterator</code>ï¼ˆè¿­ä»£å™¨ï¼‰ï¼Œè¿™æ˜¯ä¸€ç§ä¸€æ¬¡æ€§ä½¿ç”¨çš„å¯¹è±¡ï¼Œç”¨äºè¿­ä»£ï¼Œå…¶ä¸Šæœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">å±æ€§</th>
<th style="text-align:left">å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>next()</code></td>
<td style="text-align:left">æ¯æ¬¡æˆåŠŸè°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ª<code>IteratorResult</code>å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«è¿­ä»£å™¨è¿”å›çš„ä¸‹ä¸€ä¸ªå€¼</td>
</tr>
<tr>
<td style="text-align:left"><code>return()</code></td>
<td style="text-align:left">å¯é€‰çš„æ–¹æ³•ï¼Œç”¨äºæŒ‡å®šåœ¨è¿­ä»£å™¨æå‰å…³é—­æ—¶æ‰§è¡Œçš„é€»è¾‘ï¼Œåœ¨[ä¸‹é¢](#æå‰ç»ˆæ­¢è¿­ä»£å™¨ä¸return() åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ)æœ‰è¯¦ç»†ç¬”è®°</td>
</tr>
</tbody>
</table>
</li>
</ol>
<h3 id="iteratorresultå¯¹è±¡-æ˜¯ä»€ä¹ˆ"><code>IteratorResult</code>å¯¹è±¡ æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>åŒ…å«ä»¥ä¸‹ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:left">å±æ€§</th>
<th style="text-align:left">å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>done</code></td>
<td style="text-align:left">ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦è¿˜å¯ä»¥å†æ¬¡è°ƒç”¨<code>next()</code>å–å¾—ä¸‹ä¸€ä¸ªå€¼ï¼›</td>
</tr>
<tr>
<td style="text-align:left"><code>value</code></td>
<td style="text-align:left">åŒ…å«å¯è¿­ä»£å¯¹è±¡çš„ä¸‹ä¸€ä¸ªå€¼ï¼ˆ<code>done</code>ä¸º<code>false</code>ï¼‰<br />æˆ–è€…<code>undefined</code>ï¼ˆ<code>done</code>ä¸º<code>true</code>ï¼‰</td>
</tr>
</tbody>
</table>
<p><strong>ä¾‹å­</strong></p>
<pre><code class="language-js">// å¯è¿­ä»£å¯¹è±¡
let arr = ['foo', 'bar'];

// è¿­ä»£å™¨å·¥å‚å‡½æ•°
console.log(arr[Symbol.iterator]); // f values() { [native code] }

// è¿­ä»£å™¨
let iter = arr[Symbol.iterator]();
console.log(iter); // ArrayIterator {}

// æ‰§è¡Œè¿­ä»£
console.log(iter.next()); // { done: false, value: 'foo' }
console.log(iter.next()); // { done: false, value: 'bar' }
console.log(iter.next()); // { done: true, value: undefined }
</code></pre>
<h3 id="æå‰ç»ˆæ­¢è¿­ä»£å™¨ä¸return-åˆ†åˆ«æ˜¯ä»€ä¹ˆ">æå‰ç»ˆæ­¢è¿­ä»£å™¨ä¸return() åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>
<p>æå‰ç»ˆæ­¢è¿­ä»£å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>è®²çš„æ˜¯å½“è¿­ä»£å™¨è¿˜èƒ½ç»§ç»­è¿­ä»£ä½†æ˜¯éœ€è¦æå‰é€€å‡ºè¿­ä»£çš„ä¸€ç§æƒ…å†µ</p>
<p>æ‰§è¡Œè¿­ä»£çš„ç»“æ„åœ¨æƒ³è®©è¿­ä»£å™¨çŸ¥é“å®ƒä¸æƒ³éå†åˆ°å¯è¿­ä»£å¯¹è±¡è€—å°½æ—¶ï¼Œå°±å¯ä»¥â€œå…³é—­â€è¿­ä»£å™¨</p>
<p>å¯èƒ½çš„æƒ…å†µåŒ…æ‹¬ï¼š</p>
<ul>
<li><code>for-of</code>å¾ªç¯é€šè¿‡<code>break</code>ã€<code>continue</code>ã€<code>return</code>æˆ–<code>throw</code>æå‰é€€å‡º</li>
<li>è§£æ„æ“ä½œæ²¡æœ‰ç”¨åˆ°å…¨éƒ¨çš„å€¼</li>
</ul>
</li>
<li>
<p><code>return()</code>æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><code>Iterator</code>ï¼ˆè¿­ä»£å™¨ï¼‰ä¸Šçš„ä¸€ä¸ªå¯é€‰æ–¹æ³•ï¼Œç”¨äºæŒ‡å®šåœ¨è¿­ä»£å™¨æå‰å…³é—­æ—¶æ‰§è¡Œçš„é€»è¾‘</p>
<p>å†…ç½®è¯­è¨€ç»“æ„åœ¨å‘ç°è¿˜æœ‰æ›´å¤šå€¼å¯ä»¥è¿­ä»£ï¼Œä½†ä¸ä¼šæ¶ˆè´¹è¿™äº›å€¼æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨<code>return()</code>æ–¹æ³•</p>
<p><code>return()</code>æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„<code>IteratorResult</code>å¯¹è±¡ï¼Œç®€å•çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥åªè¿”å›<code>{ done: true }</code></p>
</li>
</ol>
<p><strong>ä¾‹å­</strong></p>
<pre><code class="language-js">class Counter {
  constructor(limit) {
    this.limit = limit;
  }

  [Symbol.iterator]() {
    let count = 1,
      limit = this.limit;
    return {
      next() {
        if (count &lt;= limit) {
          return { done: false, value: count++ };
        } else {
          return { done: true };
        }
      },
      return() {
        console.log('Exiting early');
        return { done: true };
      }
    };
  }
}


let counter1 = new Counter(5);

for (let i of counter1) {
  if (i &gt; 2) {
    break;
  }
  console.log(i);
}
// 1
// 2
// Exiting early


let counter2 = new Counter(5);

try {
  for (let i of counter2) {
    if (i &gt; 2) {
      throw 'err';
    }
    console.log(i);
  }
} catch(e) {}
// 1
// 2
// Exiting early


let counter3 = new Counter(5);

let [a, b] = counter3;
// Exiting early
</code></pre>
<p><strong>è¡¥å……</strong></p>
<ol>
<li>
<p>å¦‚æœè¿­ä»£å™¨æ²¡æœ‰å…³é—­ï¼Œåˆ™è¿˜å¯ä»¥ç»§ç»­ä»ä¸Šæ¬¡ç¦»å¼€çš„åœ°æ–¹ç»§ç»­è¿­ä»£</p>
</li>
<li>
<p>ä¸æ˜¯æ‰€æœ‰è¿­ä»£å™¨éƒ½æ˜¯å¯å…³é—­çš„ï¼Œä»…ä»…ç»™ä¸€ä¸ªä¸å¯å…³é—­çš„è¿­ä»£å™¨å¢åŠ <code>return()</code>æ–¹æ³•<strong>å¹¶ä¸èƒ½</strong>è®©å®ƒå˜æˆå¯å…³é—­çš„</p>
<p>è¿™æ˜¯å› ä¸ºè°ƒç”¨<code>return()</code>ä¸ä¼šå¼ºåˆ¶è¿­ä»£å™¨è¿›å…¥å…³é—­çŠ¶æ€ï¼Œå³ä¾¿å¦‚æ­¤ï¼Œ<code>return()</code>æ–¹æ³•è¿˜æ˜¯ä¼šè¢«è°ƒç”¨</p>
</li>
</ol>
<p><strong>ä¾‹å­1ï¼š</strong></p>
<pre><code class="language-js">// - ç»§ç»­æ‰§è¡Œæœªå…³é—­çš„è¿­ä»£å™¨
let a = [1, 2, 3, 4, 5];
let iter = a[Symbol.iterator]();

for (let i of iter) {
  console.log(i);
  if (i &gt; 2) {
    break
  }
}
// 1
// 2
// 3

for (let i of iter) {
  console.log(i);
}
// 4
// 5
</code></pre>
<p><strong>ä¾‹å­2ï¼š</strong></p>
<pre><code class="language-js">// - å°è¯•å…³é—­æ•°ç»„çš„è¿­ä»£å™¨ï¼Œå¤±è´¥
let a = [1, 2, 3, 4, 5];
let iter = a[Symbol.iterator]();

iter.return = function() {
  console.log('Exiting early');
  return { done: true };
};

for (let i of iter) {
  console.log(i);
  if (i &gt; 2) {
    break
  }
}
// 1
// 2
// 3
// æå‰é€€å‡º

for (let i of iter) {
  console.log(i);
}
// 4
// 5
</code></pre>
<h3 id="å…¶ä»–">å…¶ä»–</h3>
<ol>
<li>
<p>æ¯ä¸ªè¿­ä»£å™¨éƒ½è¡¨ç¤ºå¯¹å¯è¿­ä»£å¯¹è±¡çš„ä¸€æ¬¡æ€§æœ‰åºéå†</p>
<p>ä¸åŒè¿­ä»£å™¨çš„å®ä¾‹ç›¸äº’ä¹‹é—´æ²¡æœ‰è”ç³»ï¼Œåªä¼šç‹¬ç«‹åœ°éå†å¯è¿­ä»£å¯¹è±¡</p>
<pre><code class="language-js">let arr = ['foo', 'bar'];
let iter1 = arr[Symbol.iterator]();
let iter2 = arr[Symbol.iterator]();

console.log(iter1.next()); // { done: false, value: 'foo' }
console.log(iter2.next()); // { done: false, value: 'foo' }
console.log(iter2.next()); // { done: false, value: 'bar' }
console.log(iter1.next()); // { done: false, value: 'bar' }
</code></pre>
</li>
<li>
<p>å¦‚æœå¯¹è±¡åŸå‹é“¾ä¸Šçš„çˆ¶ç±»å®ç°äº†Iterableæ¥å£ï¼Œé‚£è¿™ä¸ªå¯¹è±¡ä¹Ÿå°±å®ç°äº†è¿™ä¸ªæ¥å£</p>
<pre><code class="language-js">class FooArray extends Array {}
let fooArr = new FooArray('foo', 'bar', 'baz');

for (let el of fooArr) {
  console.log(el);
}
// foo
// bar
// baz
</code></pre>
</li>
</ol>
<h2 id="how">How</h2>
<h3 id="è‡ªå®šä¹‰è¿­ä»£å™¨">è‡ªå®šä¹‰è¿­ä»£å™¨</h3>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ol>
<li><code>[Symbol.iterator]</code>æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œè¦å®ç°é—­åŒ…</li>
<li><code>iterator</code>ï¼ˆè¿­ä»£å™¨ï¼‰ä¹Ÿè¦å®ç°<code>Iterable</code>ï¼ˆ<code>[Symbol.iterator]</code>ï¼‰æ¥å£</li>
</ol>
<pre><code class="language-js">class Counter {
  constructor(limit) {
    this.limit = limit;
  }

  [Symbol.iterator]() {
    let count = 1,
        limit = this.limit;
      		
    return {
      next() {
        if (count &lt;= limit) {
          return { done: false, value: count++ };
        } else {
          return { done: true, value: undefined };
        }
      },
      [Symbol.iterator]() {
          return this
      }
    };
  }
}

let counter = new Counter(3);

for (let i of counter) { console.log(i); }
// 1
// 2
// 3

for (let i of counter) { console.log(i); }
// 1
// 2
// 3

let iter1 = counter[Symbol.iterator]();
let iter2 = iter1[Symbol.iterator]();
console.log(iter1 === iter2);         // true
</code></pre>
<h3 id="ä¸€äº›å®ç°äº†iterableæ¥å£çš„å†…ç½®ç±»å‹">ä¸€äº›å®ç°äº†<code>Iterable</code>æ¥å£çš„å†…ç½®ç±»å‹</h3>
<ul>
<li>å­—ç¬¦ä¸²</li>
<li>æ•°ç»„</li>
<li>æ˜ å°„</li>
<li>é›†åˆ</li>
<li>TypedArray</li>
<li><code>arguments</code>å¯¹è±¡</li>
<li><code>NodeList</code>ç­‰DOMé›†åˆç±»å‹</li>
</ul>
<h3 id="è¿­ä»£å™¨çš„åº”ç”¨">è¿­ä»£å™¨çš„åº”ç”¨</h3>
<p>éšæœºç‚¹åï¼Œéšæœºè¿­ä»£äººå‘˜ï¼Œè¿­ä»£å®Œåˆ™é‡ç½®ï¼Œç»§ç»­è¿­ä»£</p>
<h1 id="ç”Ÿæˆå™¨">ç”Ÿæˆå™¨</h1>
<h2 id="what-2">What</h2>
<h3 id="ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨">ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨ï¼Ÿ</h3>
<ol>
<li>
<p><strong>ç”Ÿæˆå™¨èƒ½åšä»€ä¹ˆï¼Ÿ</strong></p>
<p>æ‹¥æœ‰åœ¨ä¸€ä¸ªå‡½æ•°å—å†…æš‚åœå’Œæ¢å¤ä»£ç æ‰§è¡Œçš„èƒ½åŠ›ï¼Œä½¿ç”¨ç”Ÿæˆå™¨å¯ä»¥è‡ªå®šä¹‰è¿­ä»£å™¨å’Œå®ç°åç¨‹ã€‚</p>
</li>
<li>
<p><strong>æ€ä¹ˆåˆ›å»ºç”Ÿæˆå™¨ï¼Ÿ</strong></p>
<p>ç”Ÿæˆå™¨çš„å½¢å¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°åç§°å‰é¢åŠ ä¸€ä¸ªæ˜Ÿå·ï¼ˆ<code>*</code>ï¼‰è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ç”Ÿæˆå™¨ä¼ å‚</p>
<p>åªè¦æ˜¯å¯ä»¥å®šä¹‰å‡½æ•°çš„åœ°æ–¹ï¼Œå°±å¯ä»¥å®šä¹‰ç”Ÿæˆå™¨ã€‚</p>
<pre><code class="language-js">// ç”Ÿæˆå™¨å‡½æ•°å£°æ˜
function* generatorFn() {}

// ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼
let generatorFn = function* () {}

// ä½œä¸ºå¯¹è±¡å­—é¢é‡æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°
let foo = {
  * generatorFn() {}
}

// ä½œä¸ºç±»å®ä¾‹æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°
class Foo {
  * generatorFn() {}
}

// ä½œä¸ºç±»é™æ€æ–¹æ³•çš„ç”Ÿæˆå™¨å‡½æ•°
class Bar {
  static * generatorFn() {}
}
</code></pre>
</li>
<li>
<p><strong>ä»€ä¹ˆæ˜¯ç”Ÿæˆå™¨å¯¹è±¡ï¼Ÿ</strong></p>
<p>è°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¼šäº§ç”Ÿä¸€ä¸ª<strong>ç”Ÿæˆå™¨å¯¹è±¡</strong>ï¼Œç”Ÿæˆå™¨å¯¹è±¡ä¸€å¼€å§‹å¤„äº**æš‚åœæ‰§è¡Œï¼ˆsuspendedï¼‰**çš„çŠ¶æ€</p>
<p>ç”Ÿæˆå™¨å¯¹è±¡ä¹Ÿå®ç°äº†<code>Iterator</code>æ¥å£ï¼Œå› æ­¤å…·æœ‰<code>next()</code>æ–¹æ³•ï¼Œè°ƒç”¨è¿™ä¸ªæ–¹æ³•ä¼šè®©ç”Ÿæˆå™¨å¼€å§‹æˆ–æ¢å¤æ‰§è¡Œã€‚</p>
</li>
</ol>
<h3 id="yieldå…³é”®å­—æœ‰ä»€ä¹ˆç”¨">yieldå…³é”®å­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3>
<p>yieldæ˜¯ç”Ÿæˆå™¨ä¸­æ‰èƒ½ä½¿ç”¨çš„ä¸€ä¸ªå…³é”®å­—ï¼Œæœ‰å››ä¸ªä½œç”¨ï¼š</p>
<ol>
<li>æš‚åœï¼š<code>yield</code>å…³é”®å­—å¯ä»¥è®©ç”Ÿæˆå™¨æš‚åœæ‰§è¡Œ</li>
<li>è¾“å‡ºï¼šé€šè¿‡<code>yield</code>è¿”å›æ•°æ®ï¼ˆè°ƒç”¨<code>next()</code>è¿”å›çš„æ•°æ®ï¼‰</li>
<li>è¾“å…¥ï¼šé€šè¿‡<code>yield</code>è·å–<code>next()</code>ä¼ å…¥çš„æ•°æ®</li>
<li>åºåˆ—åŒ–ï¼šé€šè¿‡<code>yield*</code>å°†å¯è¿­ä»£å¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€è¿ä¸²å€¼</li>
</ol>
<h4 id="æš‚åœè®©ç”Ÿæˆå™¨åœæ­¢æ‰§è¡Œ">æš‚åœï¼šè®©ç”Ÿæˆå™¨åœæ­¢æ‰§è¡Œ</h4>
<blockquote>
<p>yieldè®©ç”Ÿæˆå™¨è¿›å…¥æš‚åœçŠ¶æ€ï¼Œåªèƒ½é€šè¿‡è°ƒç”¨next()æ¢å¤æ‰§è¡Œ</p>
</blockquote>
<p>é€šè¿‡<code>yield</code>å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„åœ¨<code>done: false</code>çŠ¶æ€ï¼›</p>
<p>é€šè¿‡<code>return</code>å…³é”®å­—é€€å‡ºçš„ç”Ÿæˆå™¨å‡½æ•°ä¼šå¤„äº<code>done: true</code>çŠ¶æ€ã€‚</p>
<pre><code class="language-js">function* generatorFn() {
  yield;
}

let generatorObject = generatorFn();

console.log(generatorObject.next());  // { done: false, value: undefined }
console.log(generatorObject.next());  // { done: true, value: undefined }
</code></pre>
<h4 id="è¾“å‡ºé€šè¿‡yieldè¿”å›æ•°æ®">è¾“å‡ºï¼šé€šè¿‡<code>yield</code>è¿”å›æ•°æ®</h4>
<pre><code class="language-js">function* generatorFn() {
  yield 'foo';
  yield 'bar';
  return 'baz';
}

let generatorObject = generatorFn();

console.log(generatorObject.next());  // { done: false, value: 'foo' }
console.log(generatorObject.next());  // { done: false, value: 'bar' }
console.log(generatorObject.next());  // { done: true, value: 'baz' }
</code></pre>
<h4 id="è¾“å…¥ä½œä¸ºå‡½æ•°çš„ä¸­é—´å‚æ•°ä½¿ç”¨">è¾“å…¥ï¼šä½œä¸ºå‡½æ•°çš„ä¸­é—´å‚æ•°ä½¿ç”¨</h4>
<p>ä¸Šä¸€æ¬¡è®©ç”Ÿæˆå™¨å‡½æ•°æš‚åœçš„<code>yield</code>å…³é”®å­—ä¼šæ¥æ”¶åˆ°ä¼ ç»™<code>next()</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå€¼ã€‚è¿™é‡Œæœ‰ä¸ªåœ°æ–¹ä¸å¤ªå¥½ç†è§£â€”â€”ç¬¬ä¸€æ¬¡è°ƒç”¨<code>next()</code>ä¼ å…¥çš„å€¼ä¸ä¼šè¢«ä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¸€æ¬¡è°ƒç”¨æ˜¯ä¸ºäº†å¼€å§‹æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°ï¼š</p>
<pre><code class="language-js">function* generatorFn(initial) {
  console.log(initial);
  console.log(yield);
  console.log(yield);
}

let generatorObject = generatorFn('foo');

generatorObject.next('bar');  // foo
generatorObject.next('baz');  // baz
generatorObject.next('qux');  // qu
</code></pre>
<h4 id="åºåˆ—åŒ–é€šè¿‡yieldå°†å¯è¿­ä»£å¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€è¿ä¸²å€¼">åºåˆ—åŒ–ï¼šé€šè¿‡<code>yield*</code>å°†å¯è¿­ä»£å¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€è¿ä¸²å€¼</h4>
<pre><code class="language-js">// ç­‰ä»·çš„generatorFnï¼š
// function* generatorFn() {
//   for (const x of [1, 2, 3]) {
//     yield x;
//   }
// }
function* generatorFn() {
  yield* [1, 2, 3];
}

let generatorObject = generatorFn();

for (const x of generatorFn()) {
  console.log(x);
}
// 1
// 2
// 3
</code></pre>
<p>ä¸ç”Ÿæˆå™¨å‡½æ•°çš„æ˜Ÿå·ç±»ä¼¼ï¼Œ<code>yield</code>æ˜Ÿå·ä¸¤ä¾§çš„ç©ºæ ¼ä¸å½±å“å…¶è¡Œä¸ºï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  yield* [1, 2];
  yield *[3, 4];
  yield * [5, 6];
}

for (const x of generatorFn()) {
  console.log(x);
}
// 1
// 2
// 3
// 4
// 5
// 6
</code></pre>
<p>å› ä¸º<code>yield*</code>å®é™…ä¸Šåªæ˜¯å°†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡åºåˆ—åŒ–ä¸ºä¸€è¿ä¸²å¯ä»¥å•ç‹¬äº§å‡ºçš„å€¼ï¼Œæ‰€ä»¥è¿™è·ŸæŠŠ<code>yield</code>æ”¾åˆ°ä¸€ä¸ªå¾ªç¯é‡Œæ²¡ä»€ä¹ˆä¸åŒã€‚ä¸‹é¢ä¸¤ä¸ªç”Ÿæˆå™¨å‡½æ•°çš„è¡Œä¸ºæ˜¯ç­‰ä»·çš„ï¼š</p>
<pre><code class="language-js">function* generatorFnA() {
  for (const x of [1, 2, 3]) {
    yield x;
  }
}

for (const x of generatorFnA()) {
  console.log(x);
}
// 1
// 2
// 3

function* generatorFnB() {
  yield* [1, 2, 3];
}

for (const x of generatorFnB()) {
  console.log(x);
}
// 1
// 2
// 3
</code></pre>
<p><code>yield*</code>çš„å€¼æ˜¯å…³è”è¿­ä»£å™¨è¿”å›<code>done: true</code>æ—¶çš„<code>value</code>å±æ€§ã€‚å¯¹äºæ™®é€šè¿­ä»£å™¨æ¥è¯´ï¼Œè¿™ä¸ªå€¼æ˜¯<code>undefined</code>ï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  console.log('iter value:', yield* [1, 2, 3]);
}

for (const x of generatorFn()) {
  console.log('value:', x);
}
// value: 1
// value: 2
// value: 3
// iter value: undefined
</code></pre>
<p>å¯¹äºç”Ÿæˆå™¨å‡½æ•°äº§ç”Ÿçš„è¿­ä»£å™¨æ¥è¯´ï¼Œè¿™ä¸ªå€¼å°±æ˜¯ç”Ÿæˆå™¨å‡½æ•°è¿”å›çš„å€¼ï¼š</p>
<pre><code class="language-js">function* innerGeneratorFn() {
  yield 'foo';
  return 'bar';
}
function* outerGeneratorFn(genObj) {
  console.log('iter value:', yield* innerGeneratorFn());
}

for (const x of outerGeneratorFn()) {
  console.log('value:', x);
}
// value: foo
// iter value: bar
</code></pre>
<h4 id="è®©æƒé€šè¿‡yieldå°†æ‰§è¡Œæƒç§»äº¤ç»™å¦ä¸€ä¸ªç”Ÿæˆå™¨">è®©æƒï¼šé€šè¿‡<code>yield*</code>å°†æ‰§è¡Œæƒç§»äº¤ç»™å¦ä¸€ä¸ªç”Ÿæˆå™¨</h4>
<pre><code class="language-js">function* anotherGenerator(i) {
  yield i + 1;
  yield i + 2;
  yield i + 3;
}

function* generator(i){
  yield i;
  yield* anotherGenerator(i);// ç§»äº¤æ‰§è¡Œæƒ
  yield i + 10;
}

var gen = generator(10);

console.log(gen.next().value); // 10
console.log(gen.next().value); // 11
console.log(gen.next().value); // 12
console.log(gen.next().value); // 13
console.log(gen.next().value); // 20
</code></pre>
<h4 id="è¡¥å……">è¡¥å……</h4>
<ol>
<li>
<p><strong><code>yield</code>å…³é”®å­—å¯ä»¥åŒæ—¶ç”¨äºè¾“å…¥å’Œè¾“å‡ºï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</strong></p>
<pre><code class="language-js">// example1
function* generatorFn() {
  return yield 'foo';
}

let generatorObject = generatorFn();

console.log(generatorObject.next());       // { done: false, value: 'foo' }
console.log(generatorObject.next('bar'));  // { done: true, value: 'bar' }

// example2
function *createIterator() {
    let first = yield 1;
    let second = yield first + 2; // 4 + 2
                                  // first =4 æ˜¯next(4)å°†å‚æ•°èµ‹ç»™ä¸Šä¸€æ¡çš„
    yield second + 3;             // 5 + 3
}

let iterator = createIterator();

console.log(iterator.next());    // &quot;{ value: 1, done: false }&quot;
console.log(iterator.next(4));   // &quot;{ value: 6, done: false }&quot;
console.log(iterator.next(5));   // &quot;{ value: 8, done: false }&quot;
console.log(iterator.next());    // &quot;{ value: undefined, done: true }&quot;
</code></pre>
<p>å› ä¸ºå‡½æ•°å¿…é¡»å¯¹æ•´ä¸ªè¡¨è¾¾å¼æ±‚å€¼æ‰èƒ½ç¡®å®šè¦è¿”å›çš„å€¼ï¼Œæ‰€ä»¥å®ƒåœ¨é‡åˆ°<code>yield</code>å…³é”®å­—æ—¶æš‚åœæ‰§è¡Œå¹¶è®¡ç®—å‡ºè¦äº§ç”Ÿçš„å€¼ï¼š<code>&quot;foo&quot;</code>ã€‚ä¸‹ä¸€æ¬¡è°ƒç”¨<code>next()</code>ä¼ å…¥äº†<code>&quot;bar&quot;</code>ï¼Œä½œä¸ºäº¤ç»™åŒä¸€ä¸ª<code>yield</code>çš„å€¼ã€‚ç„¶åè¿™ä¸ªå€¼è¢«ç¡®å®šä¸ºæœ¬æ¬¡ç”Ÿæˆå™¨å‡½æ•°è¦è¿”å›çš„å€¼ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨çš„æ‰§è¡Œæµç¨‹ä¼šé’ˆå¯¹æ¯ä¸ªç”Ÿæˆå™¨å¯¹è±¡åŒºåˆ†ä½œç”¨åŸŸ</strong></p>
<pre><code class="language-js">function* generatorFn() {
  yield 'foo';
  yield 'bar';
  return 'baz';
}

let generatorObject1 = generatorFn();
let generatorObject2 = generatorFn();


console.log(generatorObject1.next()); // { done: false, value: 'foo' }
console.log(generatorObject2.next()); // { done: false, value: 'foo' }
console.log(generatorObject2.next()); // { done: false, value: 'bar' }
console.log(generatorObject1.next()); // { done: false, value: 'bar' }
</code></pre>
</li>
<li>
<p><strong><code>yield</code>å…³é”®å­—åªèƒ½åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œç”¨åœ¨å…¶ä»–åœ°æ–¹ä¼šæŠ›å‡ºé”™è¯¯</strong></p>
<p>ç±»ä¼¼å‡½æ•°çš„<code>return</code>å…³é”®å­—ï¼Œ<code>yield</code>å…³é”®å­—å¿…é¡»ç›´æ¥ä½äºç”Ÿæˆå™¨å‡½æ•°å®šä¹‰ä¸­ï¼Œå‡ºç°åœ¨åµŒå¥—çš„éç”Ÿæˆå™¨å‡½æ•°ä¸­ä¼šæŠ›å‡ºè¯­æ³•é”™è¯¯</p>
<pre><code class="language-js">// æœ‰æ•ˆ
function* validGeneratorFn() {
  yield;
}

// æ— æ•ˆ
function* invalidGeneratorFnA() {
  function a() {
    yield;
  }
}

// æ— æ•ˆ
function* invalidGeneratorFnB() {
  const b = () =&gt; {
    yield;
  }
}

// æ— æ•ˆ
function* invalidGeneratorFnC() {
  (() =&gt; {
    yield;
  })();
}
</code></pre>
</li>
<li>
<p>æ£€æŸ¥æ˜¯å¦å­˜åœ¨é»˜è®¤è¿­ä»£å™¨å±æ€§</p>
<pre><code class="language-js">let num = 1;
let obj = {};

// è¿™ä¸¤ç§ç±»å‹æ²¡æœ‰å®ç°è¿­ä»£å™¨å·¥å‚å‡½æ•°
console.log(num[Symbol.iterator]); // undefined
console.log(obj[Symbol.iterator]); // undefined

let str = 'abc';
let arr = ['a', 'b', 'c'];
let map = new Map().set('a', 1).set('b', 2).set('c', 3);
let set = new Set().add('a').add('b').add('c');
let els = document.querySelectorAll('div');

// è¿™äº›ç±»å‹éƒ½å®ç°äº†è¿­ä»£å™¨å·¥å‚å‡½æ•°
console.log(str[Symbol.iterator]); // f values() { [native code] }
console.log(arr[Symbol.iterator]); // f values() { [native code] }
console.log(map[Symbol.iterator]); // f values() { [native code] }
console.log(set[Symbol.iterator]); // f values() { [native code] }
console.log(els[Symbol.iterator]); // f values() { [native code] }

// è°ƒç”¨è¿™ä¸ªå·¥å‚å‡½æ•°ä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨
console.log(str[Symbol.iterator]()); // StringIterator {}
console.log(arr[Symbol.iterator]()); // ArrayIterator {}
console.log(map[Symbol.iterator]()); // MapIterator {}
console.log(set[Symbol.iterator]()); // SetIterator {}
console.log(els[Symbol.iterator]()); // ArrayIterator {}
</code></pre>
</li>
</ol>
<h3 id="æå‰ç»ˆæ­¢ç”Ÿæˆå™¨">æå‰ç»ˆæ­¢ç”Ÿæˆå™¨</h3>
<p>ä¸è¿­ä»£å™¨ç±»ä¼¼ï¼Œç”Ÿæˆå™¨ä¹Ÿæ”¯æŒâ€œå¯å…³é—­â€çš„æ¦‚å¿µã€‚ä¸€ä¸ªå®ç°<code>Iterator</code>æ¥å£çš„å¯¹è±¡ä¸€å®šæœ‰<code>next()</code>æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªå¯é€‰çš„<code>return()</code>æ–¹æ³•ç”¨äºæå‰ç»ˆæ­¢è¿­ä»£å™¨ã€‚ç”Ÿæˆå™¨å¯¹è±¡é™¤äº†æœ‰è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œè¿˜æœ‰ç¬¬ä¸‰ä¸ªæ–¹æ³•ï¼š<code>throw()</code>ã€‚</p>
<pre><code class="language-js">function* generatorFn() {}

const g = generatorFn();

console.log(g);         // generatorFn {&lt;suspended&gt;}
console.log(g.next);    // f next() { [native code] }
console.log(g.return);  // f return() { [native code] }
console.log(g.throw);   // f throw() { [native code] }
</code></pre>
<p><code>return()</code>å’Œ<code>throw()</code>æ–¹æ³•éƒ½å¯ä»¥ç”¨äºå¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚</p>
<ol>
<li>
<p><strong><code>return()</code></strong></p>
<p><code>return()</code>æ–¹æ³•ä¼šå¼ºåˆ¶ç”Ÿæˆå™¨è¿›å…¥å…³é—­çŠ¶æ€ã€‚æä¾›ç»™<code>return()</code>æ–¹æ³•çš„å€¼ï¼Œå°±æ˜¯ç»ˆæ­¢è¿­ä»£å™¨å¯¹è±¡çš„å€¼ï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  for (const x of [1, 2, 3]) {
    yield x;
  }
}

const g = generatorFn();

console.log(g);            // generatorFn {&lt;suspended&gt;}
console.log(g.return(4));  // { done: true, value: 4 }
console.log(g);            // generatorFn {&lt;closed&gt;}
</code></pre>
<p><strong>ä¸è¿­ä»£å™¨ä¸åŒï¼Œæ‰€æœ‰ç”Ÿæˆå™¨å¯¹è±¡éƒ½æœ‰<code>return()</code>æ–¹æ³•ï¼Œåªè¦é€šè¿‡å®ƒè¿›å…¥å…³é—­çŠ¶æ€ï¼Œå°±æ— æ³•æ¢å¤äº†</strong>ã€‚åç»­è°ƒç”¨<code>next()</code>ä¼šæ˜¾ç¤º<code>done: true</code>çŠ¶æ€ï¼Œè€Œæä¾›çš„ä»»ä½•è¿”å›å€¼éƒ½ä¸ä¼šè¢«å­˜å‚¨æˆ–ä¼ æ’­ï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  for (const x of [1, 2, 3]) {
    yield x;
  }
}

const g = generatorFn();

console.log(g.next());     // { done: false, value: 1 }
console.log(g.return(4));  // { done: true, value: 4 }
console.log(g.next());     // { done: true, value: undefined }
console.log(g.next());     // { done: true, value: undefined }
console.log(g.next());     // { done: true, value: undefined }
</code></pre>
<p><code>for-of</code>å¾ªç¯ç­‰å†…ç½®è¯­è¨€ç»“æ„ä¼šå¿½ç•¥çŠ¶æ€ä¸º<code>done: true</code>çš„<code>IteratorObject</code>å†…éƒ¨è¿”å›çš„å€¼ã€‚</p>
<pre><code class="language-js">function* generatorFn() {
  for (const x of [1, 2, 3]) {
    yield x;
  }
}

const g = generatorFn();

for (const x of g) {
  if (x &gt; 1) {
    g.return(4);
  }
  console.log(x);
}
// 1
// 2
</code></pre>
</li>
<li>
<p><strong><code>throw()</code></strong></p>
<p><code>throw()</code>æ–¹æ³•ä¼šåœ¨æš‚åœçš„æ—¶å€™å°†ä¸€ä¸ªæä¾›çš„é”™è¯¯æ³¨å…¥åˆ°ç”Ÿæˆå™¨å¯¹è±¡ä¸­ã€‚å¦‚æœé”™è¯¯æœªè¢«å¤„ç†ï¼Œç”Ÿæˆå™¨å°±ä¼šå…³é—­ï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  for (const x of [1, 2, 3]) {
    yield x;
  }
}

const g = generatorFn();

console.log(g);   // generatorFn {&lt;suspended&gt;}
try {
  g.throw('foo');
} catch (e) {
  console.log(e); // foo
}
console.log(g);   // generatorFn {&lt;closed&gt;}
</code></pre>
<p>ä¸è¿‡ï¼Œå‡å¦‚ç”Ÿæˆå™¨å‡½æ•°<strong>å†…éƒ¨</strong>å¤„ç†äº†è¿™ä¸ªé”™è¯¯ï¼Œé‚£ä¹ˆç”Ÿæˆå™¨å°±ä¸ä¼šå…³é—­ï¼Œè€Œä¸”è¿˜å¯ä»¥æ¢å¤æ‰§è¡Œã€‚é”™è¯¯å¤„ç†ä¼šè·³è¿‡å¯¹åº”çš„<code>yield</code>ï¼Œå› æ­¤åœ¨è¿™ä¸ªä¾‹å­ä¸­ä¼šè·³è¿‡ä¸€ä¸ªå€¼ã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  for (const x of [1, 2, 3]) {
    try {
      yield x;
    } catch(e) {}
  }
}

const g = generatorFn();

console.log(g.next()); // { done: false, value: 1}
g.throw('foo');
console.log(g.next()); // { done: false, value: 3}
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç”Ÿæˆå™¨åœ¨<code>try</code>/<code>catch</code>å—ä¸­çš„<code>yield</code>å…³é”®å­—å¤„æš‚åœæ‰§è¡Œã€‚åœ¨æš‚åœæœŸé—´ï¼Œ<code>throw()</code>æ–¹æ³•å‘ç”Ÿæˆå™¨å¯¹è±¡å†…éƒ¨æ³¨å…¥äº†ä¸€ä¸ªé”™è¯¯ï¼šå­—ç¬¦ä¸²<code>&quot;foo&quot;</code>ã€‚è¿™ä¸ªé”™è¯¯ä¼šè¢«<code>yield</code>å…³é”®å­—æŠ›å‡ºã€‚å› ä¸ºé”™è¯¯æ˜¯åœ¨ç”Ÿæˆå™¨çš„<code>try</code>/<code>catch</code>å—ä¸­æŠ›å‡ºçš„ï¼Œæ‰€ä»¥ä»ç„¶åœ¨ç”Ÿæˆå™¨å†…éƒ¨è¢«æ•è·ã€‚å¯æ˜¯ï¼Œç”±äº<code>yield</code>æŠ›å‡ºäº†é‚£ä¸ªé”™è¯¯ï¼Œç”Ÿæˆå™¨å°±ä¸ä¼šå†äº§å‡ºå€¼<code>2</code>ã€‚æ­¤æ—¶ï¼Œç”Ÿæˆå™¨å‡½æ•°ç»§ç»­æ‰§è¡Œï¼Œåœ¨ä¸‹ä¸€æ¬¡è¿­ä»£å†æ¬¡é‡åˆ°<code>yield</code>å…³é”®å­—æ—¶äº§å‡ºäº†å€¼<code>3</code>ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ã€€å¦‚æœç”Ÿæˆå™¨å¯¹è±¡è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œï¼Œé‚£ä¹ˆè°ƒç”¨<code>throw()</code>æŠ›å‡ºçš„é”™è¯¯ä¸ä¼šåœ¨å‡½æ•°å†…éƒ¨è¢«æ•è·ï¼Œå› ä¸ºè¿™ç›¸å½“äºåœ¨å‡½æ•°å—å¤–éƒ¨æŠ›å‡ºäº†é”™è¯¯ã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="how-2">How</h2>
<h3 id="å®è·µ">å®è·µ</h3>
<h4 id="ç”Ÿæˆå™¨å¯¹è±¡ä½œä¸ºå¯è¿­ä»£å¯¹è±¡"><strong>ç”Ÿæˆå™¨å¯¹è±¡ä½œä¸ºå¯è¿­ä»£å¯¹è±¡</strong></h4>
<p>åœ¨ç”Ÿæˆå™¨å¯¹è±¡ä¸Šæ˜¾å¼è°ƒç”¨<code>next()</code>æ–¹æ³•çš„ç”¨å¤„å¹¶ä¸å¤§ã€‚å…¶å®ï¼Œå¦‚æœæŠŠç”Ÿæˆå™¨å¯¹è±¡å½“æˆå¯è¿­ä»£å¯¹è±¡ï¼Œé‚£ä¹ˆä½¿ç”¨èµ·æ¥ä¼šæ›´æ–¹ä¾¿ï¼š</p>
<pre><code class="language-js">function* generatorFn() {
  yield 1;
  yield 2;
  yield 3;
}

for (const x of generatorFn()) {
  console.log(x);
}
// 1
// 2
// 3
</code></pre>
<h4 id="ä½¿ç”¨yieldå®ç°é€’å½’ç®—æ³•"><strong>ä½¿ç”¨<code>yield*</code>å®ç°é€’å½’ç®—æ³•</strong></h4>
<p><code>yield*</code>æœ€æœ‰ç”¨çš„åœ°æ–¹æ˜¯å®ç°é€’å½’æ“ä½œï¼Œæ­¤æ—¶ç”Ÿæˆå™¨å¯ä»¥äº§ç”Ÿè‡ªèº«ã€‚çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<pre><code class="language-js">function* nTimes(n) {
  if (n &gt; 0) {
    yield* nTimes(n - 1);
    yield n - 1;
  }
}

for (const x of nTimes(3)) {
  console.log(x);
}
// 0
// 1
// 2

</code></pre>
<h3 id="åº”ç”¨">åº”ç”¨</h3>
<h4 id="ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨">ç”Ÿæˆå™¨ä½œä¸ºé»˜è®¤è¿­ä»£å™¨</h4>
<p>å› ä¸ºç”Ÿæˆå™¨å¯¹è±¡å®ç°äº†<code>Iterable</code>æ¥å£ï¼Œè€Œä¸”ç”Ÿæˆå™¨å‡½æ•°å’Œé»˜è®¤è¿­ä»£å™¨è¢«è°ƒç”¨ä¹‹åéƒ½äº§ç”Ÿè¿­ä»£å™¨ï¼Œæ‰€ä»¥ç”Ÿæˆå™¨æ ¼å¤–é€‚åˆä½œä¸ºé»˜è®¤è¿­ä»£å™¨ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œè¿™ä¸ªç±»çš„é»˜è®¤è¿­ä»£å™¨å¯ä»¥ç”¨ä¸€è¡Œä»£ç äº§å‡ºç±»çš„å†…å®¹ï¼š</p>
<pre><code class="language-js">class Foo {
  constructor() {
    this.values = [1, 2, 3];
  }
  * [Symbol.iterator]() {
    yield* this.values;
  }
}

const f = new Foo();
for (const x of f) {
  console.log(x);
}
// 1
// 2
// 3
</code></pre>
<p>è¿™é‡Œï¼Œ<code>for-of</code>å¾ªç¯è°ƒç”¨äº†é»˜è®¤è¿­ä»£å™¨ï¼ˆå®ƒæ°å¥½åˆæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼‰å¹¶äº§ç”Ÿäº†ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚è¿™ä¸ªç”Ÿæˆå™¨å¯¹è±¡æ˜¯å¯è¿­ä»£çš„ï¼Œæ‰€ä»¥å®Œå…¨å¯ä»¥åœ¨è¿­ä»£ä¸­ä½¿ç”¨ã€‚</p>
<h4 id="æ— ç©·è®¡æ•°ç”Ÿæˆå™¨å‡½æ•°">æ— ç©·è®¡æ•°ç”Ÿæˆå™¨å‡½æ•°</h4>
<pre><code class="language-js">function* generatorFn() {
  for (let i = 0;;++i) {
    yield i;
  }
}

let generatorObject = generatorFn();

console.log(generatorObject.next().value);  // 0
console.log(generatorObject.next().value);  // 1
console.log(generatorObject.next().value);  // 2
console.log(generatorObject.next().value);  // 3
console.log(generatorObject.next().value);  // 4
console.log(generatorObject.next().value);  // 5
</code></pre>
<h4 id="å®ç°èŒƒå›´å’Œå¡«å……æ•°ç»„">å®ç°èŒƒå›´å’Œå¡«å……æ•°ç»„</h4>
<pre><code class="language-js">function* range(start, end) {
  while(end &gt; start) {
    yield start++;
  }
}

for (const x of range(4, 7)) {
  console.log(x);
}
// 4
// 5
// 6

function* zeroes(n) {
  while(n--) {
    yield 0;
  }
}

console.log(Array.from(zeroes(8))); // [0, 0, 0, 0, 0, 0, 0, 0]
</code></pre>
<h4 id="é€’å½’éå†å›¾">é€’å½’éå†å›¾</h4>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¯ä¸ªç”Ÿæˆå™¨é¦–å…ˆéƒ½ä¼šä»æ–°åˆ›å»ºçš„ç”Ÿæˆå™¨å¯¹è±¡äº§å‡ºæ¯ä¸ªå€¼ï¼Œç„¶åå†äº§å‡ºä¸€ä¸ªæ•´æ•°ã€‚ç»“æœå°±æ˜¯ç”Ÿæˆå™¨å‡½æ•°ä¼šé€’å½’åœ°å‡å°‘è®¡æ•°å™¨å€¼ï¼Œå¹¶å®ä¾‹åŒ–å¦ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚ä»æœ€é¡¶å±‚æ¥çœ‹ï¼Œè¿™å°±ç›¸å½“äºåˆ›å»ºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡å¹¶è¿”å›é€’å¢çš„æ•´æ•°ã€‚</p>
<p>ä½¿ç”¨é€’å½’ç”Ÿæˆå™¨ç»“æ„å’Œ<code>yield*</code>å¯ä»¥ä¼˜é›…åœ°è¡¨è¾¾é€’å½’ç®—æ³•ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå›¾çš„å®ç°ï¼Œç”¨äºç”Ÿæˆä¸€ä¸ªéšæœºçš„åŒå‘å›¾ï¼š</p>
<pre><code class="language-js">class Node {
  constructor(id) {
    this.id = id;
    this.neighbors = new Set();
  }

  connect(node) {
    if (node !== this) {
      this.neighbors.add(node);
      node.neighbors.add(this);
    }
  }
}

class RandomGraph {
  constructor(size) {
    this.nodes = new Set();

    // åˆ›å»ºèŠ‚ç‚¹
    for (let i = 0; i &lt; size; ++i) {
      this.nodes.add(new Node(i));
    }

    // éšæœºè¿æ¥èŠ‚ç‚¹
    const threshold = 1 / size;
    for (const x of this.nodes) {
      for (const y of this.nodes) {
        if (Math.random() &lt; threshold) {
          x.connect(y);
        }
      }
    }
  }

  // è¿™ä¸ªæ–¹æ³•ä»…ç”¨äºè°ƒè¯•
  print() {
    for (const node of this.nodes) {
      const ids = [...node.neighbors]
                      .map((n) =&gt; n.id)
                      .join(',');

      console.log(`${node.id}: ${ids}`);
    }
  }
}

const g = new RandomGraph(6);

g.print();
// ç¤ºä¾‹è¾“å‡ºï¼š
// 0: 2,3,5
// 1: 2,3,4,5
// 2: 1,3
// 3: 0,1,2,4
// 4: 2,3
// 5: 0,4
</code></pre>
<p>å›¾æ•°æ®ç»“æ„éå¸¸é€‚åˆé€’å½’éå†ï¼Œè€Œé€’å½’ç”Ÿæˆå™¨æ°å¥½éå¸¸åˆç”¨ã€‚ä¸ºæ­¤ï¼Œç”Ÿæˆå™¨å‡½æ•°å¿…é¡»æ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œäº§å‡ºè¯¥å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”å¯¹æ¯ä¸ªå€¼è¿›è¡Œé€’å½’ã€‚è¿™ä¸ªå®ç°å¯ä»¥ç”¨æ¥æµ‹è¯•æŸä¸ªå›¾æ˜¯å¦è¿é€šï¼Œå³æ˜¯å¦æ²¡æœ‰ä¸å¯åˆ°è¾¾çš„èŠ‚ç‚¹ã€‚åªè¦ä»ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åå°½åŠ›è®¿é—®æ¯ä¸ªèŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚ç»“æœå°±å¾—åˆ°äº†ä¸€ä¸ªéå¸¸ç®€æ´çš„æ·±åº¦ä¼˜å…ˆéå†ï¼š</p>
<pre><code class="language-js">class Node {
  constructor(id) {
    ...
  }

  connect(node) {
    ...
  }
}

class RandomGraph {
  constructor(size) {
    ...
  }

  print() {
    ...
  }

  isConnected() {
    const visitedNodes = new Set();

    function* traverse(nodes) {
      for (const node of nodes) {
        if (!visitedNodes.has(node)) {
          yield node;
          yield* traverse(node.neighbors);
        }
      }
    }

    // å–å¾—é›†åˆä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
    const firstNode = this.nodes[Symbol.iterator]().next().value;

    // ä½¿ç”¨é€’å½’ç”Ÿæˆå™¨è¿­ä»£æ¯ä¸ªèŠ‚ç‚¹
    for (const node of traverse([firstNode])) {
      visitedNodes.add(node);
    }

    return visitedNodes.size === this.nodes.size;
  }
}
</code></pre>
<h4 id="ä½¿ç”¨è¿­ä»£å™¨éå†äºŒç»´æ•°ç»„å¹¶è½¬æ¢æˆä¸€ç»´æ•°ç»„">ä½¿ç”¨è¿­ä»£å™¨éå†äºŒç»´æ•°ç»„å¹¶è½¬æ¢æˆä¸€ç»´æ•°ç»„</h4>
<pre><code class="language-js">function* iterArr(arr) {            //è¿­ä»£å™¨è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡
  if (Array.isArray(arr)) {         // å†…èŠ‚ç‚¹
      for(let i=0; i &lt; arr.length; i++) {
          yield* iterArr(arr[i]);   // (*)é€’å½’
      }
  } else {                          // ç¦»å¼€
      yield arr;
  }
}
// ä½¿ç”¨ for-of éå†:
var arr = ['a', ['b', 'c'], ['d', 'e']];
for(var x of iterArr(arr)) {
        console.log(x);               // a  b  c  d  e
 }

// æˆ–è€…ç›´æ¥å°†è¿­ä»£å™¨å±•å¼€:
var arr = [ 'a', ['b',[ 'c', ['d', 'e']]]];
var gen = iterArr(arr);
arr = [...gen];                        // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;]
</code></pre>
<h1 id="å­¦ä¹ èµ„æ–™">å­¦ä¹ èµ„æ–™</h1>
<ul>
<li>ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ï¼ˆç¬¬4ç‰ˆï¼‰ã€‹</li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">è¿­ä»£åè®®</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Generator">Generator</a></li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æœ¬åšå®¢æœç´¢åä»£ä¸Šçº¿]]></title>
        <id>https://blog.ikozn.com/post/æœ¬åšå®¢æœç´¢åä»£ä¸Šçº¿/</id>
        <link href="https://blog.ikozn.com/post/æœ¬åšå®¢æœç´¢åä»£ä¸Šçº¿/">
        </link>
        <updated>2018-03-27T16:40:55.000Z</updated>
        <content type="html"><![CDATA[<!--more-->
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/03/28/5aba743212c12.jpg" alt="Google" loading="lazy"></figure>
<blockquote>
<p>è´¦å·ä¸å¯†ç éƒ½æ˜¯ä¸Šå›¾ä¸­ç¬¬ä¸€ä¸ªå­—æ¯å°å†™,ç‚¹<a href="https://g.ikozn.com">è¿™é‡Œ</a>è®¿é—®</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[DCN]æµ…è°ˆæ— çº¿VLANçš„è®¾ç½®]]></title>
        <id>https://blog.ikozn.com/post/DCN-æµ…è°ˆæ— çº¿VLANçš„è®¾ç½®/</id>
        <link href="https://blog.ikozn.com/post/DCN-æµ…è°ˆæ— çº¿VLANçš„è®¾ç½®/">
        </link>
        <updated>2018-03-12T07:22:14.000Z</updated>
        <content type="html"><![CDATA[<!--more-->
<p>é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¸¸è§çš„é”™è¯¯é…ç½®æ–¹å¼</p>
<h3 id="æ‹“æ‰‘"><strong>æ‹“æ‰‘</strong></h3>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/03/12/5aa600e2bb5a2.png" alt="æ‹“æ‰‘" loading="lazy"></figure>
<br />
<br />
<h3 id="éœ€æ±‚"><strong>éœ€æ±‚</strong></h3>
<p>1.ç½‘ç»œæ‹“æ‰‘å¦‚ä¸Šå›¾æ‰€ç¤ºï¼ŒACæ˜¯æ— çº¿æ§åˆ¶å™¨ï¼Œå…¶E1/0/1å£è¿æ¥ç€APçš„LAN1å£</p>
<p>2.æŒ‰ç…§ è¡¨1-1 å®Œæˆæ— çº¿ç½‘ç»œçš„é…ç½®.ä½¿ç”¨æˆ·è¿æ¥WLANä½¿èƒ½å¤Ÿè·å–å¯¹åº”VLANçš„IPåœ°å€ã€‚APåœ°å€é€šè¿‡DHCPä¸‹å‘ï¼Œä¸º192.168.3.10ã€‚</p>
<table>
<thead>
<tr>
<th>VLAN</th>
<th>SVIæ¥å£åœ°å€</th>
<th>è¯´æ˜</th>
<th>å¯¹åº”SSID</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>192.168.1.254/24</td>
<td>ç”¨æˆ·VLAN</td>
<td>VLAN1-Wireless-LAB</td>
</tr>
<tr>
<td>2</td>
<td>192.168.2.254/24</td>
<td>ç”¨æˆ·VLAN</td>
<td>VLAN2-Wireless-LAB</td>
</tr>
<tr>
<td>3</td>
<td>192.168.3.254/24</td>
<td>ç®¡ç† and ç”¨æˆ·VLAN</td>
<td>VLAN3-Wireless-LAB</td>
</tr>
</tbody>
</table>
<center>è¡¨1-1</center>
<h3 id="é…ç½®åŠå®ç°"><strong>é…ç½®åŠå®ç°</strong></h3>
<h4 id="1apä¸Šçº¿">1.APä¸Šçº¿</h4>
<br />
<h4 id="åˆ’åˆ†vlanå’Œè®¾ç½®sviæ¥å£åœ°å€">åˆ’åˆ†VLANå’Œè®¾ç½®SVIæ¥å£åœ°å€</h4>
<pre><code>AC(config)#vlan 2		//åˆ›å»ºVLAN2
AC(config-vlan2)#vlan 3		//åˆ›å»ºVLAN3
AC(config-vlan3)#int vlan 1 	//è¿›å…¥Vlan1çš„SVIæ¥å£
AC(config-if-vlan1)#ip ad 192.168.1.254 255.255.255.0		//è®¾ç½®IPåœ°å€	
AC(config-if-vlan1)#int vlan 2		//è¿›å…¥VLAN2çš„SVIæ¥å£
AC(config-if-vlan2)#ip ad 192.168.2.254 255.255.255.0		//è®¾ç½®IPåœ°å€
AC(config-if-vlan2)#int vlan 3		//è¿›å…¥VLAN3çš„SVIæ¥å£
AC(config-if-vlan3)#ip ad 192.168.3.254 255.255.255.0		//è®¾ç½®IPåœ°å€
AC(config-if-ethernet1/0/1)#sw mo trunk 		//æ›´æ”¹æ¥å£æ¨¡å¼ä¸ºTrunk
AC(config-if-vlan3)#int e1/0/1
AC(config-if-ethernet1/0/1)#sw mo trunk 
AC(config-if-ethernet1/0/1)#switchport trunk native vlan 3		//è®¾ç½®Native VLANä¸ºVLAN3
</code></pre>
<br />
<br />
<h4 id="2-å¼€å¯dhcpåŠŸèƒ½è‡ªåŠ¨ä¸‹å‘åœ°å€">2 å¼€å¯DHCPåŠŸèƒ½ï¼Œè‡ªåŠ¨ä¸‹å‘åœ°å€ã€‚</h4>
<pre><code>AC(config)#ip dhcp pool vlan1 		//åˆ›å»ºåœ°å€æ± 
AC(dhcp-vlan1-config)#network-address 192.168.1.0 255.255.255.0		//è®¾ç½®ä¸‹å‘ç½‘æ®µ
AC(dhcp-vlan1-config)#default-router 192.168.1.254		
AC(dhcp-vlan1-config)#!
AC(config)#ip dhcp pool vlan2		//åˆ›å»ºåœ°å€æ± 
AC(dhcp-vlan2-config)#network-address 192.168.2.0 255.255.255.0		//è®¾ç½®ä¸‹å‘ç½‘æ®µ
AC(dhcp-vlan2-config)#default-router 192.168.2.254 		//è®¾ç½®ç½‘å…³
AC(dhcp-vlan2-config)#!
AC(config)#ip dhcp pool vlan3       //åˆ›å»ºåœ°å€æ±                 
AC(dhcp-vlan3-config)#network-address 192.168.3.0 255.255.255.0		//è®¾ç½®ä¸‹å‘ç½‘æ®µ
AC(dhcp-vlan3-config)#default-router 192.168.3.254		//è®¾ç½®ç½‘å…³
AC(dhcp-vlan3-config)#!
AC(config)#service dhcp		//å¼€å¯DHCPæœåŠ¡
</code></pre>
<br />
<br />
<h4 id="3-dhcpé™æ€ç»‘å®šapåœ°å€">3 DHCPé™æ€ç»‘å®šAPåœ°å€</h4>
<p><strong>AC</strong></p>
<pre><code>AC(config)#show ip dh binding 		//æŸ¥çœ‹DHCPç»‘å®š
Total dhcp binding items: 1, the matched: 1
IP address          Hardware address         Lease expiration         Type
192.168.3.1         00-03-0F-5B-F0-E0        Mon Jan 02 00:30:00 2006 Dynamic

AC(config)#ip dhcp pool AP		//æ·»åŠ DHCPæ± 
AC(dhcp-ap-config)#hardware-address 00-03-0F-5B-F0-E0		//ç»‘å®šMACåœ°å€
AC(dhcp-ap-config)#host 192.168.3.10		//ç»‘å®šIP
AC(dhcp-ap-config)#default-router 192.168.3.254		//è®¾ç½®ç½‘å…³
AC(dhcp-ap-config)#!
AC(config)#show ip dh binding                
Total dhcp binding items: 1, the matched: 1
IP address          Hardware address         Lease expiration         Type
192.168.3.10        00-03-0F-5B-F0-E0        Infinite                 Manual
</code></pre>
<br />
<br />
<p><strong>AP</strong></p>
<p>é‡å¯çš„DHCPåŠŸèƒ½</p>
<pre><code>AP# set management dhcp-status down	//å…³é—­DHCPè·å–åœ°å€
AP# set management dhcp-status up  	//å¼€å¯DHCPè·å–åœ°å€
AP# get management 
Property                   Value
--------------------------------------------
vlan-id                    1
interface                  brvlan1
static-ip                  192.168.1.10
static-mask                255.255.255.0
ip                         192.168.3.10		//è·å–åˆ°äº†192.168.3.10
mask                       255.255.255.0
ipv6                       
ipv6-prefix-length         0
mac                        00:03:0F:5B:F0:E0
dhcp-status                up
dhcpv6-status              down
ipv6-status                up
ipv6-autoconfig-status     up
static-ipv6                
static-ipv6-prefix-length  0
</code></pre>
<br />
<br />
<h4 id="4-å¼€å¯acæ— çº¿åŠŸèƒ½">4 å¼€å¯ACæ— çº¿åŠŸèƒ½</h4>
<pre><code>AC(config-wireless)#no auto-ip-assign 		//å…³é—­æ— çº¿åœ°å€é€‰ä¸¾
AC(config-wireless)#static-ip 192.168.3.254		//è®¾ç½®é™æ€æ— çº¿åœ°å€
AC(config-wireless)#discovery vlan-list 3		//è®¾ç½®äºŒå±‚å‘ç°VLAN
AC(config-wireless)#ap authentication none 		//å…³é—­APéªŒè¯
AC(config-wireless)#enable 		//å¼€å¯æ— çº¿åŠŸèƒ½
æŸ¥çœ‹APçŠ¶æ€
AC(config)#show wir ap status 

    MAC Address                                                            Configuration                
 (*) Peer Managed  IP Address                              Profile Status     Status           Age      
------------------ --------------------------------------- ------- ------- ------------- --------------
 00-03-0f-5b-f0-e0 192.168.3.10                            1       Managed Failure       0d:00:00:07

Total Access Points............................ 1
</code></pre>
<br />
<br />
<h4 id="5-æ— çº¿é…ç½®">5 æ— çº¿é…ç½®</h4>
<pre><code>AC(config)#wireless 		//è¿›å…¥æ— çº¿å…¨å±€æ¨¡å¼
AC(config-wireless)#network 1		//è¿›å…¥networké…ç½®æ¨¡å¼
AC(config-network)#ssid VLAN1-Wireless-LAB		//è®¾ç½®SSID
AC(config-network)#security mode none 	//å…³é—­ç”¨æˆ·è®¤è¯
AC(config-network)#vlan 1		//è®¾ç½®VLAN
AC(config-network)#network 2		//è¿›å…¥networké…ç½®æ¨¡å¼
AC(config-network)#ssid VLAN2-Wireless-LAB
AC(config-network)#security mode none 		//å…³é—­ç”¨æˆ·è®¤è¯
AC(config-network)#vlan 2		//è®¾ç½®VLAN
AC(config-network)#network 3		//è¿›å…¥networké…ç½®æ¨¡å¼
AC(config-network)#ssid VLAN3-Wireless-LAB
AC(config-network)#security mode none 		//å…³é—­ç”¨æˆ·è®¤è¯
AC(config-network)#vlan 3		//è®¾ç½®VLAN
AC(config-network)#!
AC(config-wireless)#ap profile 1		//è¿›å…¥profile 1
AC(config-ap-profile)#hwtype 29		//è®¾ç½®ç¡¬ä»¶å·
AC(config-ap-profile)#radio 1		//è¿›å…¥radioé…ç½®æ¨¡å¼
AC(config-ap-profile-radio)#vap 1		//è¿›å…¥vapé…ç½®æ¨¡å¼
AC(config-ap-profile-vap)#enable 		//å¼€å¯vap
AC(config-ap-profile-vap)#vap 2		//è¿›å…¥VAPé…ç½®æ¨¡å¼
AC(config-ap-profile-vap)#enable 	//å¼€å¯VAP
AC(config-ap-profile-vap)#!
AC(config-ap-profile-radio)#!
AC(config-ap-profile)#!
AC(config-wireless)#!
AC(config)#!
AC(config)#exit
AC#wir ap prof ap 1		//ä¸‹å‘é…ç½®æ–‡ä»¶
All configurations will be send to the aps associated to this profile and associated clients on these aps will be disconnected. Are you sure you want to apply the profile configuration? [Y/N] y
</code></pre>
<hr>
<h4 id="6æµ‹è¯•">6.æµ‹è¯•</h4>
<p>é…ç½®æ–‡ä»¶ä¸‹å‘ä¹‹åï¼Œç¨ç­‰ä¸€ä¼šï¼Œå°±å¯ä»¥æœç´¢åˆ°æ— çº¿ä¿¡å·äº†ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://i.loli.net/2018/03/12/5aa57b1fe9738.png" alt="WIFIåˆ—è¡¨" loading="lazy"></figure>
<p>æ¥ç€æˆ‘ä»¬è¿ä¸Šå»è¯•è¯•</p>
<p>é¦–å…ˆæˆ‘ä»¬è¿æ¥VLAN1çš„</p>
<p>ç»“æœå‘ç°</p>
<figure data-type="image" tabindex="3"><img src="https://i.loli.net/2018/03/12/5aa57c1f5f96d.png" alt="VLAN1è¿æ¥" loading="lazy"></figure>
<center>ç«Ÿç„¶è·å–åˆ°äº†VLAN3çš„åœ°å€</center>
<br />
<center>æ¥ä¸‹æ¥æˆ‘ä»¬å†è¿æ¥VLAN2çš„è¯•è¯•</center>
<figure data-type="image" tabindex="4"><img src="https://i.loli.net/2018/03/12/5aa57c1f5f96d.png" alt="VLAN2è¿æ¥" loading="lazy"></figure>
<center>å‘ç°æ˜¯æ­£å¸¸çš„</center>
<br />
<center>æœ€åå†æ¥è¿æ¥VLAN3</center>
<figure data-type="image" tabindex="5"><img src="https://i.loli.net/2018/03/12/5aa58ea17ceb9.png" alt="VLAN3è¿æ¥" loading="lazy"></figure>
<center>å‘ç°æ ¹æœ¬è·å–ä¸åˆ°IPåœ°å€</center>
<h3 id="é—®é¢˜åˆ†æ">é—®é¢˜åˆ†æ</h3>
<h4 id="1æ‹“æ‰‘">1.æ‹“æ‰‘</h4>
<figure data-type="image" tabindex="6"><img src="https://i.loli.net/2018/03/12/5aa600e2bb5a2.png" alt="æ‹“æ‰‘" loading="lazy"></figure>
<br />
<br />
<h4 id="2vlan-1-ç”¨æˆ·ä¸Šçº¿è¿‡ç¨‹">2.VLAN 1 ç”¨æˆ·ä¸Šçº¿è¿‡ç¨‹</h4>
<figure data-type="image" tabindex="7"><img src="https://i.loli.net/2018/03/12/5aa600abe2514.png" alt="VLAN DHCPè¿‡ç¨‹" loading="lazy"></figure>
<p>**(1).**å½“ç”¨æˆ·è¿æ¥åˆ°æ— çº¿ç½‘ç»œä¹‹åï¼Œå®¢æˆ·ç«¯å‘é€<code>DHCP DISCOVER</code>å¹¿æ’­åŒ…æ¥è¯·æ±‚IPåœ°å€</p>
<p>**(2).**APé»˜è®¤çš„è½¬å‘æ–¹å¼ä¸ºæœ¬åœ°è½¬å‘ï¼Œæ‰€ä»¥<code>DHCP DISCOVER</code>æŠ¥æ–‡åˆ°è¾¾APä¹‹å802.11å¸§ä¾¿è¢«è½¬æ¢æˆä»¥å¤ªç½‘å¸§ã€‚ä¸æ‰“VLAN TAGï¼Œå°†æ•°æ®åŒ…è½¬å‘ç»™äº¤æ¢æœºã€‚</p>
<p>**(3).**æˆ‘ä»¬åœ¨äº¤æ¢æœºçš„E1/0/1æ¥å£ä¸Šé…ç½®äº†å‘½ä»¤ <code>switchport trunk native vlan 3</code>,æ‰€ä»¥å½“æ²¡æœ‰VLAN Tagçš„å¸§åˆ°è¾¾äº¤æ¢æœºçš„æ—¶å€™ï¼Œè¢«æ‰“ä¸ŠVLAN 3çš„æ ‡ç­¾.</p>
<p>**(4).**æ‰€ä»¥æœ€åå¯¼è‡´äº†Clientè·å–åˆ°äº†VLAN3ç½‘æ®µçš„åœ°å€</p>
<blockquote>
<p>VLAN1çš„æ•°æ®APä¸æ‰“æ ‡ç­¾</p>
</blockquote>
<br />
<br />
<h4 id="3vlan-2-ç”¨æˆ·ä¸Šçº¿è¿‡ç¨‹">3.VLAN 2 ç”¨æˆ·ä¸Šçº¿è¿‡ç¨‹</h4>
<figure data-type="image" tabindex="8"><img src="https://i.loli.net/2018/03/12/5aa601ee7c5d5.png" alt="VLAN2ä¸Šçº¿" loading="lazy"></figure>
<p>**(1).**å½“ç”¨æˆ·è¿æ¥åˆ°æ— çº¿ç½‘ç»œä¹‹åï¼Œå®¢æˆ·ç«¯å‘é€<code>DHCP DISCOVER</code>å¹¿æ’­åŒ…æ¥è¯·æ±‚IPåœ°å€</p>
<p>**(2).**APé»˜è®¤çš„è½¬å‘æ–¹å¼ä¸ºæœ¬åœ°è½¬å‘ï¼Œæ‰€ä»¥<code>DHCP DISCOVER</code>æŠ¥æ–‡åˆ°è¾¾APä¹‹å802.11å¸§ä¾¿è¢«è½¬æ¢æˆä»¥å¤ªç½‘å¸§ã€‚</p>
<p>æ‰“ä¸Š<code>VLAN 2</code> TAGï¼Œå°†æ•°æ®åŒ…è½¬å‘ç»™äº¤æ¢æœºã€‚</p>
<p>**(3).**äº¤æ¢æœºæ”¶åˆ°è¯¥å¸§ï¼Œä¸å¯¹å¸§è¿›è¡Œä»»ä½•å¤„ç†ï¼Œç›´æ¥æ”¾è¡Œï¼Œæœ€åå¸§åœ¨VLAN2å†…ä¼ æ’­ã€‚</p>
<p>**(4).**æ‰€ä»¥å®¢æˆ·æœºå¯ä»¥è·å–åˆ°æ­£ç¡®çš„åœ°å€ã€‚</p>
<br />
<br />
<h4 id="4vlan-3-ç”¨æˆ·ä¸Šçº¿è¿‡ç¨‹">4.VLAN 3 ç”¨æˆ·ä¸Šçº¿è¿‡ç¨‹</h4>
<figure data-type="image" tabindex="9"><img src="https://i.loli.net/2018/03/12/5aa60313a8a84.png" alt="VLAN3ä¸Šçº¿" loading="lazy"></figure>
<p>**(1).**å½“ç”¨æˆ·è¿æ¥åˆ°æ— çº¿ç½‘ç»œä¹‹åï¼Œå®¢æˆ·ç«¯å‘é€<code>DHCP DISCOVER</code>å¹¿æ’­åŒ…æ¥è¯·æ±‚IPåœ°å€</p>
<p>**(2).**APé»˜è®¤çš„è½¬å‘æ–¹å¼ä¸ºæœ¬åœ°è½¬å‘ï¼Œæ‰€ä»¥<code>DHCP DISCOVER</code>æŠ¥æ–‡åˆ°è¾¾APä¹‹å802.11å¸§ä¾¿è¢«è½¬æ¢æˆä»¥å¤ªç½‘å¸§ã€‚</p>
<p>**(3).**æ‰“ä¸Š<code>VLAN 3</code> TAGï¼Œå°†æ•°æ®åŒ…è½¬å‘ç»™äº¤æ¢æœºï¼Œç„¶è€Œäº¤æ¢æœºä¸Šé…ç½®äº†<code>switchport trunk native vlan 3</code>ï¼Œå¯¼è‡´äº¤æ¢æœºä¸¢åŒ…ï¼Œè¯¥SSIDä¸‹æ‰€æœ‰æ•°æ®éƒ½ä¸èƒ½é€šè¿‡äº¤æ¢æœºï¼Œæ‰€ä»¥æœ€ç»ˆä¹Ÿä¸èƒ½è·å–åœ°å€ã€‚</p>
<br />
<br />
<hr>
<h3 id="è§£å†³é—®é¢˜">è§£å†³é—®é¢˜</h3>
<p>è®©æˆ‘ä»¬é‡æ–°åšä¸€é</p>
<h4 id="1è®¾ç½®vlan">1.è®¾ç½®VLAN</h4>
<pre><code>AC(config)#vlan 2		//åˆ›å»ºVLAN2
AC(config-vlan2)#vlan 3		//åˆ›å»ºVLAN3
AC(config-vlan3)#int vlan 1 	//è¿›å…¥Vlan1çš„SVIæ¥å£
AC(config-if-vlan1)#ip ad 192.168.1.254 255.255.255.0		//è®¾ç½®IPåœ°å€	
AC(config-if-vlan1)#int vlan 2		//è¿›å…¥VLAN2çš„SVIæ¥å£
AC(config-if-vlan2)#ip ad 192.168.2.254 255.255.255.0		//è®¾ç½®IPåœ°å€
AC(config-if-vlan2)#int vlan 3		//è¿›å…¥VLAN3çš„SVIæ¥å£
AC(config-if-vlan3)#ip ad 192.168.3.254 255.255.255.0		//è®¾ç½®IPåœ°å€
AC(config-if-vlan3)#int e1/0/1
AC(config-if-ethernet1/0/1)#sw mo trunk 		//æ›´æ”¹æ¥å£æ¨¡å¼ä¸ºTrunk
</code></pre>
<p><strong>æ³¨æ„ï¼Œè¿™é‡Œä¸è®¾ç½®Native VLAN</strong></p>
<br />
<br />
<h4 id="2è®¾ç½®dhcp">2.è®¾ç½®DHCP</h4>
<p><strong>AP</strong></p>
<p>è®¾ç½®ç®¡ç†VLAN</p>
<pre><code>AP# set management vlan-id 3	//è®¾ç½®ç®¡ç†VLANä¸ºVLAN3
</code></pre>
<blockquote>
<p>è®¾ç½®ç®¡ç†VLANä¹‹åï¼Œä»APå‘å‡ºçš„ç®¡ç†/æ§åˆ¶æŠ¥æ–‡éƒ½ä¼šæ‰“ä¸ŠVLAN 3çš„TAGï¼Œä¹Ÿå¯ä»¥æ¥å—å¸¦VLAN3 TAGçš„ç®¡ç†æŠ¥æ–‡ã€‚</p>
</blockquote>
<br />
<br />
<p><strong>AC</strong></p>
<pre><code>AC(config)#ip dh pool VLAN1
AC(dhcp-vlan1-config)#network-address 192.168.1.0 255.255.255.0
AC(dhcp-vlan1-config)#default-router 192.168.1.254
AC(dhcp-vlan1-config)#!                    
AC(config)#ip dh pool VLAN2
AC(dhcp-vlan2-config)#network-address 192.168.2.0 255.255.255.0
AC(dhcp-vlan2-config)#default-router 192.168.2.254
AC(dhcp-vlan2-config)#!
AC(config)#ip dh pool VLAN3
AC(dhcp-vlan3-config)#network-address 192.168.3.0 255.255.255.0
AC(dhcp-vlan3-config)#default-router 192.168.3.254
AC(dhcp-vlan3-config)#!
AC(config)#service dhcp
</code></pre>
<br />
<br />
<h4 id="3é™æ€ç»‘å®šdhcp">3.é™æ€ç»‘å®šDHCP</h4>
<p><strong>AC</strong></p>
<pre><code>AC(config)#show ip dh binding 
Total dhcp binding items: 1, the matched: 1
IP address          Hardware address         Lease expiration         Type
192.168.3.1         aa-aa-aa-aa-aa-aa        Mon Jan 02 00:12:00 2006 Dynamic
AC(config)#ip dhcp pool AP
AC(dhcp-ap-config)#hardware-address aa-aa-aa-aa-aa-aa
AC(dhcp-ap-config)#host 192.168.3.10
AC(dhcp-ap-config)#default-router 192.168.3.254
AC(dhcp-ap-config)#!
</code></pre>
<br />
<p><strong>AP</strong></p>
<pre><code>AP# set management dhcp-status down
AP# set management dhcp-status up  
</code></pre>
<br />
<br />
<h4 id="4å¼€å¯æ— çº¿åŠŸèƒ½">4.å¼€å¯æ— çº¿åŠŸèƒ½</h4>
<pre><code>AC(config-wireless)#no auto-ip-assign 
AC(config-wireless)#static-ip 192.168.3.254
AC(config-wireless)#ap authe none 
AC(config-wireless)#discovery vlan-list 3
AC(config-wireless)#enable 
</code></pre>
<br />
<br />
<h4 id="5é…ç½®æ— çº¿">5.é…ç½®æ— çº¿</h4>
<pre><code>AC(config-wireless)#network 1
AC(config-network)#ssid VLAN1-Wireless-LAB
AC(config-network)#vlan 1
AC(config-network)#network 2
AC(config-network)#ssid VLAN2-Wireless-LAB
AC(config-network)#vlan 2
AC(config-network)#network 3
AC(config-network)#ssid VLAN3-Wireless-LAB
AC(config-network)#vlan 3
AC(config-network)#!
AC(config-wireless)#ap profile 1
AC(config-ap-profile)#hwtype 29
AC(config-ap-profile)#management vlan 3
AC(config-ap-profile)#radio 1
AC(config-ap-profile-radio)#vap 1
AC(config-ap-profile-vap)#enable 
AC(config-ap-profile-vap)#vap 2
AC(config-ap-profile-vap)#enable 
AC(config-ap-profile-vap)#!
AC(config-ap-profile-radio)#!
AC(config-ap-profile)#!
AC#wireless ap prof ap 1
All configurations will be send to the aps associated to this profile and associated clients on these aps will be disconnected. Are you sure you want to apply the profile configuration? [Y/N] y
AP Profile apply is in progress.
</code></pre>
<br />
<br />
<h4 id="6æµ‹è¯•-2">6.æµ‹è¯•</h4>
<p><strong>VLAN1</strong></p>
<figure data-type="image" tabindex="10"><img src="https://i.loli.net/2018/03/12/5aa60f0615b3b.png" alt="VLAN1" loading="lazy"></figure>
<br />
<br />
<p><strong>VLAN2</strong></p>
<figure data-type="image" tabindex="11"><img src="https://i.loli.net/2018/03/12/5aa60f8f5b204.png" alt="VLAN2" loading="lazy"></figure>
<p><strong>VLAN3</strong></p>
<figure data-type="image" tabindex="12"><img src="https://i.loli.net/2018/03/12/5aa61045a552d.png" alt="VLAN3" loading="lazy"></figure>
<p>å¯ä»¥å‘ç°ï¼Œè¿™æ¬¡ä¸€åˆ‡éƒ½æ­£å¸¸äº†ã€‚</p>
<hr>
<h3 id="å¤±è¯¯å‘ç”Ÿçš„åŸå› ">å¤±è¯¯å‘ç”Ÿçš„åŸå› </h3>
<p>è¿™ä¸ªé…ç½®é”™è¯¯å‡ºç°çš„åŸå› ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç‚¹:</p>
<p>**1.**å¯¹<code>network</code>é…ç½®æ¨¡å‹ä¸‹<code>vlan</code>çš„å‘½ä»¤æœ‰æ‰€è¯¯è§£</p>
<p>è¿™ä¸ªå‘½ä»¤æ˜¯è®¾ç½®VLANè¡¨ç¤ºï¼Œè®¾ç½®æ— çº¿ç”¨æˆ·çš„æ•°æ®åœ¨ç»è¿‡APä¹‹ååº”æ‰“ä¸Šçš„VLAN TAGï¼Œè€Œä¸æ˜¯è¯´è¿™ä¸ªæ— çº¿ä¿¡å·æ•°æ®æ˜¯å“ªä¸ªVLANï¼Œå°±è®¾ç½®æˆå“ªä¸ªVLANã€‚</p>
<br />
<br />
<p>**2.**æ— çº¿ç®¡ç†VLANçš„è®¾ç½®</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è®¾ç½®ç®¡ç†VLANçš„æ—¶å€™éƒ½æ˜¯å°†æ¥å£è®¾ç½®ä¸ºTrunkï¼Œå¹¶æ›´æ”¹æ¥å£çš„æœ¬å¾VLAN.å¤§å¤šæ•°æƒ…å†µä¸‹è¿™æ ·å­æ˜¯æ²¡æœ‰é—®é¢˜çš„.ä½†æ˜¯å½“ç®¡ç†VLANå’Œç”¨æˆ·VLANæ˜¯åŒä¸€ä¸ªï¼Œå¹¶ä¸”ä¸æ˜¯VLAN1çš„æ—¶å€™ï¼Œæƒ…å†µå°±æœ‰äº›å°´å°¬.</p>
<p>å¦‚ä¸Šé¢çš„ç¬¬ä¸€ä¸ªå®éªŒï¼Œå½“ç®¡ç†å’Œç”¨æˆ·VLANéƒ½æ˜¯VLAN3çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯è¿™ä¹ˆè®¾ç½®çš„:</p>
<pre><code>AC(config-if-vlan3)#int e1/0/1
AC(config-if-ethernet1/0/1)#sw mo trunk 
AC(config-if-ethernet1/0/1)#switchport trunk native vlan 3		//è®¾ç½®Native VLANä¸ºVLAN3
</code></pre>
<p><em><strong>æ›´æ”¹æ¥å£çš„æœ¬å¾VLAN</strong></em></p>
<br />
<br />
<pre><code>AC(config-network)#network 3		//è¿›å…¥networké…ç½®æ¨¡å¼
AC(config-network)#ssid VLAN3-Wireless-LAB
AC(config-network)#security mode none 		//å…³é—­ç”¨æˆ·è®¤è¯
AC(config-network)#vlan 3		//è®¾ç½®VLAN
</code></pre>
<p><em><strong>åœ¨Networkä¸‹è®¾ç½®VLANæ ‡è¯†</strong></em></p>
<p>å¦‚æœè¿™ä¹ˆè®¾ç½®ï¼ŒAPè½¬å‘è¿æ¥åˆ°Network 3çš„ç”¨æˆ·æµé‡çš„æ—¶å€™ï¼Œå°±ä¼šæ‰“ä¸ŠVLAN 3çš„TAGå¹¶å‘é€å‡ºå»ï¼Œç„¶è€Œæˆ‘ä»¬çš„ACæ¥å£ä¹Ÿå°†æ¥å£çš„æœ¬å¾VLANä¿®æ”¹ä¸ºäº†VLAN3ã€‚ä¸€ä½†ACæ”¶åˆ°APå‘æ¥å¸¦æœ‰VLAN 3 TAGçš„æ•°æ®å¸§æ—¶ï¼Œå°±ä¼šå°†å¸§ä¸¢å¼ƒï¼Œè¿™å°±è¿™å°±å¯¼è‡´äº†æˆ‘ä»¬è¿ä¸Šäº†Network 3å´æ— æ³•è®¿é—®ç½‘ç»œ.</p>
<br />
<br />
<p>è§£å†³æ–¹æ³•æœ‰ä¸¤ç§</p>
<p>**1.**å°†networkä¸­çš„vlanæ ‡è¯†æ”¹å›vlan1</p>
<p>å¦‚æ­¤ï¼Œå½“APè½¬å‘Networkçš„æµé‡æ—¶ï¼Œå°±ä¸ä¼šæ‰“ä¸ŠVLAN TAGï¼ŒACæ¥æ”¶åˆ°æ•°æ®å¸§ä¹‹åï¼Œä¼šæ ¹æ®æœ¬å¾VLANæ‰“ä¸ŠVLAN TAGï¼Œç„¶ååœ¨ACä¸­è¿›è¡Œè½¬å‘ã€‚</p>
<p>æ­¤æ–¹æ³•çš„ä»£ä»·å°±æ˜¯VLAN1ä¸èƒ½ç”¨æ¥è½¬å‘æ— çº¿æµé‡(ä¸èƒ½å½“åšç”¨æˆ·VLAN).</p>
<br />
<p>**2.**è¯·çœ‹[è§£å†³é—®é¢˜]ç¯‡</p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>å½“ä½ çš„ç®¡ç†VLANä¸ç”¨æˆ·VLANæ˜¯åŒä¸€ä¸ªVLANä¸”ä¸æ˜¯VLAN1çš„æ—¶å€™ï¼Œè¦ä¹ˆæ”¾å¼ƒä½¿ç”¨VLAN1è½¬å‘æ•°æ®ã€‚</p>
<p>è¦ä¹ˆåœ¨APä¸Šè®¾ç½®ç®¡ç†VLAN.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[DCN]ç¥å·æ•°ç æ— çº¿å¸¸ç”¨é…ç½®]]></title>
        <id>https://blog.ikozn.com/post/æ— çº¿å¸¸ç”¨é…ç½®/</id>
        <link href="https://blog.ikozn.com/post/æ— çº¿å¸¸ç”¨é…ç½®/">
        </link>
        <updated>2018-03-11T15:21:33.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="apç®¡ç†">APç®¡ç†</h3>
<h4 id="acå‘ç°ap">ACå‘ç°AP</h4>
<h5 id="äºŒå±‚å‘ç°">äºŒå±‚å‘ç°</h5>
<pre><code>DCWS-6028(P)(config-wireless)#discovery vlan-list 1 //æŒ‡å®šVLANå‘ç°åˆ—è¡¨
DCWS-6028(P)(config-wireless)# ap database xx-xx-xx-xx-xx-xx  //æ·»åŠ AP MACåœ°å€
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<h3 id="apç®¡ç†">APç®¡ç†</h3>
<h4 id="acå‘ç°ap">ACå‘ç°AP</h4>
<h5 id="äºŒå±‚å‘ç°">äºŒå±‚å‘ç°</h5>
<pre><code>DCWS-6028(P)(config-wireless)#discovery vlan-list 1 //æŒ‡å®šVLANå‘ç°åˆ—è¡¨
DCWS-6028(P)(config-wireless)# ap database xx-xx-xx-xx-xx-xx  //æ·»åŠ AP MACåœ°å€
</code></pre>
<!--more-->
<h5 id="ä¸‰å±‚å‘ç°">ä¸‰å±‚å‘ç°</h5>
<h4 id="apå‘ç°ac">APå‘ç°AC</h4>
<p><em><strong>APé…ç½®</strong></em></p>
<pre><code>DCN-WLAN-AP# set management static-ip 192.168.2.1  //é…ç½®é™æ€IP
DCN-WLAN-AP# set management static-mask 255.255.255.0  //é…ç½®æ©ç 
DCN-WLAN-AP# set static-ip-route gateway 192.168.2.2   //é…ç½®é»˜è®¤ç½‘å…³
</code></pre>
<p><em><strong>ACé…ç½®</strong></em></p>
<pre><code>DCWS-6028(P)(config-wireless)# discovery ip-list 192.168.2.1  //æŒ‡å®šAP IP
DCWS-6028(P)(config-wireless)# ap database xx-xx-xx-xx-xx-xx  //æ·»åŠ AP MACåœ°å€
</code></pre>
<h5 id="apé™æ€å‘ç°">APé™æ€å‘ç°</h5>
<pre><code>DCN-WLAN-AP# set managed-ap switch-address-1 192.168.1.1	//è®¾ç½®ç¬¬ä¸€ä¸ªACåœ°å€
DCN-WLAN-AP# set managed-ap switch-address-2 192.168.2.2	//è®¾ç½®ç¬¬äºŒä¸ªACåœ°å€
</code></pre>
<h5 id="optionä¸‹å‘acåœ°å€">Optionä¸‹å‘ACåœ°å€</h5>
<pre><code>DCWS(config)#ip dhcp pool ap
DCWS(dhcp-ap-config)#option 43 hex 01040A090005	//0104ä¸ºå›ºå®šå€¼ï¼Œåæ¥IPåœ°å€16è¿›åˆ¶
</code></pre>
<h4 id="apè®¤è¯">APè®¤è¯</h4>
<h5 id="æ— éªŒè¯">æ— éªŒè¯</h5>
<pre><code>DCWS(config-wireless)#ap authentication none
</code></pre>
<h5 id="macåœ°å€éªŒè¯">MACåœ°å€éªŒè¯</h5>
<pre><code>DCWS(config-wireless)#ap authe mac //è®¾ç½®APéªŒè¯æ–¹å¼ä¸ºmacåœ°å€éªŒè¯
DCWS(config-wireless)#ap database xx-xx-xx-xx-xx-xx //æ‰‹åŠ¨æ·»åŠ AP database æ¡ç›®
</code></pre>
<h5 id="å¯†ç éªŒè¯">å¯†ç éªŒè¯</h5>
<p><em><strong>APé…ç½®</strong></em></p>
<pre><code>AP# set managed-ap pass-phrase 12345678	//è®¾ç½®è®¤è¯å¯†ç 
</code></pre>
<p><em><strong>ACé…ç½®</strong></em></p>
<pre><code>DCWS(config-wireless)#ap authentication pass-phrase 
DCWS(config-wireless)#ap database xx-xx-xx-xx-xx-xx            
DCWS(config-ap)#password plain 12345678	//è®¾ç½®APè®¤è¯å¯†ç 
</code></pre>
<h5 id="åºåˆ—å·è®¤è¯">åºåˆ—å·è®¤è¯</h5>
<p><em><strong>APæ“ä½œ</strong></em></p>
<pre><code>AP# get system 
Property          Value
---------------------------------------------------------------
model             Wireless Infrastructure Platform Reference AP
version           2.0.20.15
altversion        2.0.20.15
protocol-version  2
base-mac          xx:xx:xx:xx:xx:xx
serial-number     WL013210FA24000118	//åºåˆ—å·
system-name       
system-contact    
system-location   
apmode            fit
</code></pre>
<p><em><strong>ACæ“ä½œ</strong></em></p>
<pre><code>AC(config)#wirelessÂ 
AC(config-wireless)# ap authentication serial-num
AC(config-wireless)# ap database xx-xx-xx-xx-xx-xxÂ 
AC(config-ap)#serial-num WL013210FA24000118
</code></pre>
<h4 id="apé€ƒç”Ÿ">APé€ƒç”Ÿ</h4>
<pre><code>DCWS(config-wireless)#ap prof 1
DCWS(config-ap-profile)#ap escape //å¼€å¯APé€ƒç”Ÿæ¨¡å¼
</code></pre>
<h4 id="ä¿®æ”¹apé…ç½®æ–‡ä»¶">ä¿®æ”¹APé…ç½®æ–‡ä»¶</h4>
<pre><code>AC(config-ap)#profile 3 //åœ¨APé…ç½®æ¨¡å¼ä¸‹()
</code></pre>
<h4 id="ä¿®æ”¹apç®¡ç†vlan">ä¿®æ”¹APç®¡ç†VLAN</h4>
<pre><code>AC(config-ap-profile)#management vlan 4094 
AC(config-ap-profile)#wireless ap profile apply 1
</code></pre>
<hr>
<h3 id="ç”¨æˆ·æ¥å…¥">ç”¨æˆ·æ¥å…¥</h3>
<h4 id="ç”¨æˆ·è®¤è¯æ–¹å¼">ç”¨æˆ·è®¤è¯æ–¹å¼</h4>
<h5 id="wepè®¤è¯">WEPè®¤è¯</h5>
<pre><code>DCWS(config-network)#Sec mode static-wep 	//è®¾ç½®è®¤è¯æ–¹å¼ä¸ºWEP
DCWS(config-network)#wep key length 64		//è®¾ç½®keyé•¿åº¦ï¼Œ64ä¸º5ä½ï¼Œ128ä¸º13ä½
DCWS(config-network)#wep key type ascii		//è®¾ç½®WEPå¯†é’¥ç±»å‹
DCWS(config-network)#wep key  1 12345		//è®¾ç½®WEPå¯†é’¥
</code></pre>
<h5 id="wpaä¸ªäººç‰ˆ">WPAä¸ªäººç‰ˆ</h5>
<pre><code>DCWS(config-wireless)#network 1
DCWS(config-network)#Sec mode wpa-per 	//è®¾ç½®è®¤è¯æ–¹å¼ä¸ºWPAä¸ªäººç‰ˆ
DCWS(config-network)#wpa ciphers tkip 	//è®¾ç½®WPAåŠ å¯†æ–¹å¼ä¸ºTkip
DCWS(config-network)#wpa key tikp123456789	//è®¾ç½®WPAå¯†é’¥
</code></pre>
<h5 id="wpaä¼ä¸šç‰ˆ">WPAä¼ä¸šç‰ˆ</h5>
<p><em><strong>è®¤è¯æœåŠ¡å™¨é…ç½®</strong></em></p>
<blockquote>
<p>ç•¥</p>
</blockquote>
<p><em><strong>ACé…ç½®</strong></em></p>
<pre><code>DCWS(config)#dot1x enable      //å¼€å¯dot1xè®¤è¯
DCWS(config)#radius-server authentication host 172.16.5.164 key 0 123 //è®¾ç½®æœåŠ¡å™¨åœ°å€å’Œkey
DCWS(config)#radius source-ipv4 172.16.5.233  //è®¾ç½®æºåœ°å€
DCWS(config)#radius nas-ipv4 172.16.5.233     //è®¾ç½®NASåœ°å€
DCWS(config)#aaa enable
DCWS(config)#!
DCWS(config)#aaa group server radius 2012    //è®¾ç½®AAAç»„
DCWS(config-sg-radius)# server 172.16.5.164    //æ·»åŠ æœåŠ¡å™¨
DCWS(config-sg-radius)#!
DCWS(config)#wireless
DCWS(config-wireless)# radius server-name auth 2012 //è°ƒç”¨AAAæœåŠ¡å™¨ç»„
DCWS(config-wireless)# network 1
DCWS(config-network)#  radius server-name auth 2012    //è°ƒç”¨AAAæœåŠ¡å™¨ç»„
DCWS(config-network)#  security mode wpa-enterprise    //è®¾ç½®æ— çº¿ä¼ä¸šè®¤è¯
DCWS(config-network)#  ssid radius
DCWS(config-network)#  vlan 20
DCWS(config-network)#!
</code></pre>
<h4 id="æœ¬åœ°portalè®¤è¯">æœ¬åœ°Portalè®¤è¯</h4>
<pre><code>AC(config)#captive-portal Â  Â //è¿›å…¥captive-portalæ¨¡å¼
AC(config-cp)#enable Â  Â //å¼€å¯ProtalåŠŸèƒ½
AC(config-cp)#authentication-type internal Â  Â //è®¤è¯ç±»å‹ä¸ºå†…ç½®Protal
AC(config-cp)#user user1 Â  Â //åˆ›å»ºå¹¶è®¾ç½®ç”¨æˆ· user1
AC(config-cp-local-user)#password 123456 Â  Â //è®¾ç½®è´¦æˆ·çš„å¯†ç ä¸º 123456
AC(config-cp-local-user)#group 0 Â  Â //ç”¨æˆ·åŠ å…¥ç»„ group 0
AC(config-cp-local-user)#!
AC(config-cp)#configuration 1 Â  Â //è¿›å…¥captive-portal é…ç½®1
AC(config-cp-instance)#enable Â  Â //å¼€å¯æ­¤é…ç½®
AC(config-cp-instance)#verification local Â  Â //è®¾ç½®éªŒè¯æ¨¡å¼ä¸ºæœ¬åœ°
AC(config-cp-instance)#group 0 Â  Â //ç»‘å®šGroup 0 ç»„
AC(config-cp-instance)#auth-method mac-ip-based Â  Â //è®¾ç½®è®¤è¯æ–¹å¼ä¸ºåŸºäºMAC-IP
AC(config-cp-instance)#interface ws-network 1 Â  Â //ç»‘å®šæ— çº¿ç½‘ç»œ (å¯¹åº”é…ç½®ä¸‹å‘æ—¶çš„ Network å¯¹åº”ä¸€ä¸ªVAP)
</code></pre>
<h4 id="åŠ¨æ€é»‘åå•">åŠ¨æ€é»‘åå•</h4>
<pre><code>DCWS(config-wireless)#dynamic-blacklist //å¼€å¯åŠ¨æ€é»‘åå•åŠŸèƒ½
DCWS(config-wireless)#network 1
DCWS(config-network)#mac authentication local //å¼€å¯MACæœ¬åœ°éªŒè¯
</code></pre>
<h4 id="macè®¤è¯">MACè®¤è¯</h4>
<blockquote>
<p>åªå…è®¸å·²æ·»åŠ MACçš„ç»ˆç«¯è¿æ¥APï¼Œæˆ–é˜»æ­¢å·²æ·»åŠ MACçš„ç»ˆç«¯è¿æ¥AP</p>
</blockquote>
<p>åªå…è®¸å·²æ·»åŠ MACçš„ç»ˆç«¯è¿æ¥AP</p>
<pre><code>DCWS-6028(config-wireless)#mac-authentication-modewhite-list	//å¼€å¯MACç™½åå•æ¨¡å¼
DCWS-6028(config-wireless)#known-client 00-11-11-11-11-11 action global-action	//æ·»åŠ MACåœ°å€
DCWS-6028(config-wireless)#network 1
DCWS-6028(config-network)#mac authentication local	//å¼€å¯MACæœ¬åœ°è®¤è¯
</code></pre>
<p>é˜»æ­¢å·²æ·»åŠ MACçš„ç»ˆç«¯è¿æ¥AP</p>
<pre><code>DCWS-6028(config-wireless)#mac-authentication-modeblack-list	//å¼€å¯é»‘åå•æ¨¡å¼
DCWS-6028(config-wireless)#known-client 00-22-22-22-22-22action global-action	//æ·»åŠ MACåœ°å€
DCWS-6028(config-wireless)#network 1
DCWS-6028(config-network)#mac authentication local	//å¼€å¯MACæœ¬åœ°è®¤è¯
</code></pre>
<p>é…ç½®å®Œæˆåéœ€ä¸‹å‘APç”Ÿæ•ˆ</p>
<pre><code>DCWS-6028#wireless approfile apply 1
</code></pre>
<h4 id="æœ€å¤§æ¥å…¥ç”¨æˆ·æ•°">æœ€å¤§æ¥å…¥ç”¨æˆ·æ•°</h4>
<p>æœ€å¤§æ¥å…¥10ä¸ªç”¨æˆ·</p>
<pre><code>DCWS(config-network)#max-clients 10 
</code></pre>
<p>ç”¨æˆ·è€åŒ–æ—¶é—´ä¸º300ç§’</p>
<pre><code>DCWS(config-network)#offline-detect idle-timeout 300
</code></pre>
<h4 id="é™åˆ¶æ¥å…¥æ—¶é—´">é™åˆ¶æ¥å…¥æ—¶é—´</h4>
<p>æ˜ŸæœŸä¸€ 09:00 åˆ° 18:00 ä¸å…è®¸æ¥å…¥æ— çº¿ç½‘ç»œ</p>
<pre><code>DCWS(config-network)#time-limit from 09:00 to 18:00 weekday monday 
</code></pre>
<h4 id="arpæŠ‘åˆ¶">ARPæŠ‘åˆ¶</h4>
<pre><code>AC(config)# wireless 
AC(config-wireless)#network 1 
AC(config-network)# arp-suppression
</code></pre>
<h4 id="anti-flood">Anti-flood</h4>
<p>é˜²æ­¢APæ³›æ´ªæ”»å‡»ï¼Œæ£€æµ‹æ—¶é—´ä¸º10åˆ†é’Ÿï¼Œæœ€å¤§è¿æ¥æ¬¡æ•°ä¸º5æ¬¡ï¼Œè€åŒ–æ—¶é—´ä¸º60åˆ†é’Ÿ</p>
<pre><code>AC(config-wireless)# wireless ap anti-flood
AC(config-wireless)# wireless ap anti-flood interval 10
AC(config-wireless)# wireless ap anti-flood max-conn-count 5
AC(config-wireless)# wireless ap anti-flood agetime 60
</code></pre>
<h4 id="éšè—ssid">éšè—SSID</h4>
<pre><code>DCWS(config-network)#hide-ssid 
</code></pre>
<hr>
<h3 id="å°„é¢‘ç®¡ç†">å°„é¢‘ç®¡ç†</h3>
<h4 id="è°ƒæ•´å°„é¢‘å·¥ä½œæ¨¡å¼">è°ƒæ•´å°„é¢‘å·¥ä½œæ¨¡å¼</h4>
<pre><code>DCWS-6028(config-wireless)#ap profile 1
DCWS-6028(config-ap-profile)#radio 1
DCWS-6028(config-ap-profile-radio)#mode bg-n
</code></pre>
<h4 id="è®¾ç½®apçš„åŠŸç‡å’Œä¿¡é“">è®¾ç½®APçš„åŠŸç‡å’Œä¿¡é“</h4>
<p>è°ƒæ•´å®Œéœ€é‡å¯APç”Ÿæ•ˆ</p>
<pre><code>DCWS-6028(config-wireless)#ap database 00-03-0f-19-71-e0
DCWS-6028(config-ap)#radio 1 channel 11
The valid AP entry is updated. This AP is already managed, to update the managed AP configuration with the new value(s) you need to reset the AP.
DCWS-6028(config-ap)#radio 1 power 50
</code></pre>
<h4 id="è‡ªåŠ¨ä¿¡é“è°ƒæ•´">è‡ªåŠ¨ä¿¡é“è°ƒæ•´</h4>
<blockquote>
<p>è‡ªåŠ¨ä¿¡é“è°ƒæ•´æœ‰ä¸‰ç§æ–¹å¼ï¼šæ‰‹åŠ¨è§¦å‘ã€å‘¨æœŸæ€§è§¦å‘å’Œå›ºå®šæ—¶é—´è§¦å‘</p>
<p>å¦‚æœä¸ºAPè®¾ç½®äº†å›ºå®šä¿¡é“ï¼Œåˆ™ä¸èƒ½å¯¹æ­¤APè¿›è¡Œè‡ªåŠ¨ä¿¡é“è°ƒæ•´</p>
<p>è‡ªåŠ¨ä¿¡é“è°ƒæ•´åŠŸèƒ½é»˜è®¤æ˜¯å¼€å¯çš„</p>
</blockquote>
<h5 id="æ‰‹åŠ¨è§¦å‘æ–¹å¼">æ‰‹åŠ¨è§¦å‘æ–¹å¼</h5>
<pre><code>DCWS-6028(config-wireless)#channel-planbgn mode manual 
DCWS-6028#wireless channel-plan bgnstart
wirelessCalculate80211ChannelAdjustment successfuly added proposed entry to ap=00-03-0f-19-71-e0
  
DCWS-6028#wirelesschannel-plan bgn apply
</code></pre>
<h5 id="å‘¨æœŸæ€§è§¦å‘æ–¹å¼">å‘¨æœŸæ€§è§¦å‘æ–¹å¼</h5>
<pre><code>DCWS-6028(config-wireless)#channel-plan bgnmode interval
DCWS-6028(config-wireless)#channel-plan bgninterval 720
</code></pre>
<h5 id="å›ºå®šæ—¶é—´è§¦å‘æ–¹å¼">å›ºå®šæ—¶é—´è§¦å‘æ–¹å¼</h5>
<pre><code>DCWS-6028(config-wireless)#channel-plan bgnmode time
DCWS-6028(config-wireless)#channel-plan bgntime 23:00
</code></pre>
<h4 id="è‡ªåŠ¨åŠŸç‡è°ƒæ•´">è‡ªåŠ¨åŠŸç‡è°ƒæ•´</h4>
<blockquote>
<p>è‡ªåŠ¨åŠŸç‡è°ƒæ•´æœ‰ä¸¤ç§æ–¹å¼ï¼šæ‰‹åŠ¨è§¦å‘å’Œå‘¨æœŸæ€§è§¦å‘</p>
<p>å¦‚æœä¸ºAPé…ç½®äº†å›ºå®šåŠŸç‡ï¼Œåˆ™ä¸èƒ½å¯¹æ­¤APè¿›è¡Œè‡ªåŠ¨åŠŸç‡è°ƒæ•´</p>
</blockquote>
<h5 id="æ‰‹åŠ¨è§¦å‘æ–¹å¼-2">æ‰‹åŠ¨è§¦å‘æ–¹å¼</h5>
<pre><code>DCWS-6028(config-wireless)#ap profile 1
DCWS-6028(config-ap-profile)#radio 1
DCWS-6028(config-ap-profile-radio)#power auto 
DCWS-6028(config-wireless)#power-plan mode manual
DCWS-6028#wireless power-plan start
DCWS-6028#wireless power-plan apply
</code></pre>
<h5 id="å‘¨æœŸæ€§è§¦å‘æ–¹å¼-2">å‘¨æœŸæ€§è§¦å‘æ–¹å¼</h5>
<pre><code>DCWS-6028(config-wireless)#approfile 1
DCWS-6028(config-ap-profile)#radio 1
DCWS-6028(config-ap-profile-radio)#power auto 
DCWS-6028(config-ap-profile-radio)#exit
DCWS-6028(config-ap-profile)#exit
DCWS-6028(config-wireless)#power-plan mode interval 
DCWS-6028(config-wireless)#power-plan interval 720
</code></pre>
<h4 id="æ”¯æŒé€Ÿç‡é›†">æ”¯æŒé€Ÿç‡é›†</h4>
<pre><code>AC(config- ap-profile-radio)#mode bgÂ 
AC(config- ap-profile-radio)#rate basic 54 //è®¾ç½®åŸºæœ¬é€Ÿç‡é›†
DCWS(config-ap-profile-radio)#rate supported 54 //è®¾ç½®æ”¯æŒé€Ÿç‡é›†
</code></pre>
<hr>
<h3 id="æµé‡è½¬å‘">æµé‡è½¬å‘</h3>
<h4 id="æ— çº¿éš”ç¦»">æ— çº¿éš”ç¦»</h4>
<p>åŒä¸€SSID(åŒä¸€VLAN)ä¸‹æ— çº¿éš”ç¦»</p>
<pre><code>DCWS(config-wireless)#network 1
DCWS(config-network)#station-isolation 
</code></pre>
<p>åŒä¸€radioä¸‹ç”¨æˆ·éš”ç¦»</p>
<pre><code>DCWS(config-wireless)#ap profile 1
DCWS(config-ap-profile)#radio 1
DCWS(config-ap-profile-radio)#station-isolation
</code></pre>
<h4 id="æ— çº¿å¼ºåˆ¶æ¼«æ¸¸">æ— çº¿å¼ºåˆ¶æ¼«æ¸¸</h4>
<pre><code>DCWS(config-wireless)#force-roaming mode auto //å¼€å¯è‡ªåŠ¨å¼ºåˆ¶æ¼«æ¸¸åŠŸèƒ½
DCWS(config-wireless)#force-roaming mode auto interval 15  //è‡ªåŠ¨å¼ºåˆ¶æ¼«æ¸¸åŠŸèƒ½çš„æ‰§è¡Œå‘¨æœŸä¸º15åˆ†é’Ÿã€‚
DCWS(config-wireless)#force-roaming rssi-threshold 10   //è®¾ç½®RSSIé˜ˆå€¼ï¼Œä¸º10%
DCWS(config-wireless)#force-roaming denial-count 5       //è®¾ç½®è‡ªåŠ¨å¼ºåˆ¶æ¼«æ¸¸æ‹’ç»æ¬¡æ•°é—¨é™ä¸º5æ¬¡
DCWS(config-wireless)#force-roaming denial-timeout 1  //è®¾ç½®æ‹’ç»æ¬¡æ•°é—¨é™è€åŒ–ä¸º1å°æ—¶
DCWS(config-wireless)#force-roaming hysteresis 4    //è®¾ç½®ç¬¦åˆå¼ºåˆ¶æ¼«æ¸¸çš„ä¿¡å·å¼ºåº¦å·®å€¼ä¸º4%.
DCWS#wireless force-roaming client aa-aa-aa-aa-aa-aa start  //æ‰‹åŠ¨å‘èµ·æ¼«æ¸¸åŠŸèƒ½
</code></pre>
<h4 id="åˆ†å¸ƒå¼è½¬å‘">åˆ†å¸ƒå¼è½¬å‘</h4>
<pre><code>DCWS-6028(P)(config-network)#dist-tunnel //è¯¥Networkçš„æµé‡å¼€å¯åˆ†å¸ƒå¼è½¬å‘
</code></pre>
<h4 id="é›†ä¸­è½¬å‘">é›†ä¸­è½¬å‘</h4>
<pre><code>DCWS(config-wireless)#l2tunnel vlan-list add 10;20	//è®¾ç½®VLAN10 VLAN20çš„æµé‡ä¸ºé›†ä¸­è½¬å‘
</code></pre>
<h4 id="é™é€Ÿ">é™é€Ÿ</h4>
<pre><code>DCWS(config-wireless)#ap client-qos	//å¼€å¯AP QoS
DCWS(config-wireless)#network 1
DCWS(config-network)#client-qos bandwidth-limit down 5120	//é™é€Ÿä¸‹è¡Œé€Ÿç‡ä¸º5Mb/s
DCWS(config-network)#client-qos bandwidth-limit up 2048		//é™é€Ÿä¸Šè¡Œé€Ÿç‡ä¸º2Mb/s
</code></pre>
<h4 id="æ—¶ç©ºå…¬å¹³è°ƒåº¦">æ—¶ç©ºå…¬å¹³è°ƒåº¦</h4>
<pre><code>DCWS(config-ap-profile-radio)#schedule-mode preferred	//å¼€å¯æ—¶ç©ºå…¬å¹³è°ƒåº¦
</code></pre>
<hr>
<h3 id="å¸¸ç”¨ç»´æŠ¤å‘½ä»¤">å¸¸ç”¨ç»´æŠ¤å‘½ä»¤</h3>
<h4 id="acå¸¸ç”¨ç»´æŠ¤å‘½ä»¤">ACå¸¸ç”¨ç»´æŠ¤å‘½ä»¤</h4>
<p><strong>æŸ¥çœ‹APçš„æ³¨å†Œå’Œé…ç½®çŠ¶æ€</strong></p>
<pre><code>DCWS-6028#show wireless ap status 
	    MAC Address                                            Configuration                
	 (*) Peer Managed  IP Address Profile Status     Status           Age      
	------------------ --------------- ------- ------- ------------- -------------- -------------
	 00-03-0f-19-71-e0 192.168.1.10    1  Managed Success   d:00:00:01
	Total Access Points............................ 1

</code></pre>
<p><strong>æŸ¥çœ‹APçš„æ³¨å†Œå¤±è´¥ä¿¡æ¯</strong></p>
<pre><code>DCWS-6028#show wireless ap failure status
</code></pre>
<p><strong>ä¸‹å‘é…ç½®</strong></p>
<pre><code>DCWS-6028#wireless approfile apply 1
</code></pre>
<p><strong>è®¾ç½®ç¡¬ä»¶ç±»å‹</strong></p>
<pre><code>DCWS(config-ap-profile)#hwtype 29
</code></pre>
<p><strong>æŸ¥çœ‹ç¡¬ä»¶ç‰ˆæœ¬</strong>1</p>
<pre><code>DCWS(config-ap-profile)#show wir ap 00-03-0f-5b-f0-e0 status | i Type
Hardware Type.................................. 29 - WL8200-I2, Indoor Dual Radio a/n/ac, b/g/n
CPU Type....................................... AR9344-533
</code></pre>
<p><strong>æŸ¥çœ‹ç¡¬ä»¶ç‰ˆæœ¬2</strong></p>
<pre><code>DCWS#show vendor | i WL8200-I2
                          29 WL8200-I2        R1    WL8200-I2, Indoor Dual Radio a/n/ac, b/g/n
</code></pre>
<p>æŸ¥çœ‹ACçš„æ— çº¿çŠ¶æ€ï¼Œå¯ä»¥çœ‹åˆ°æ— çº¿åŠŸèƒ½æ˜¯å¦å¼€å¯ï¼Œæ— çº¿IPåœ°å€ä¿¡æ¯ï¼Œå›½å®¶ä»£ç ä¿¡æ¯ï¼Œç®¡ç†çš„APæ•°é‡ç­‰</p>
<pre><code>DCWS-6028# show wireless 
DCWS-6028# show wireless status
</code></pre>
<p>æŸ¥çœ‹APçš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°APçš„MACåœ°å€ã€IPåœ°å€ã€ç¡¬ä»¶ç±»å‹åŠå‹å·ã€è½¯ä»¶ç‰ˆæœ¬ã€åºåˆ—å·ç­‰</p>
<pre><code>DCWS-6028#showwireless ap 00-03-0f-19-71-e0 status 
  MACaddress.................................... 00-03-0f-19-71-e0
  Location.......................................
  IPAddress..................................... 192.168.1.10
  IP SubnetMask................................. 255.255.255.0
  â€¦ â€¦
</code></pre>
<p>æŸ¥çœ‹APçš„å°„é¢‘ä¿¡æ¯</p>
<pre><code>DCWS-6028#show wireless ap radio status 
	 DCWS-6028#show wireless ap 00-03-0f-19-71-e0 radio status 
	     MAC Address                                                     Transmit     Auth. 
	 (*) Peer Managed   Location        Radio Channel Power (%) Clients
	     ------------------       -----------          -----       -------    --------         -------
	 00-03-0f-19-71-e0                           1           11          100            0      
                                                                  2          149         100            0

</code></pre>
<p>æŸ¥çœ‹æ— çº¿ç»ˆç«¯ä¿¡æ¯</p>
<pre><code>DCWS-6028#show wireless client status      
	   MAC Address                                                             
	 (*) Peer Managed  VAP MAC Address SSID  Status Network Time 
 	     ------------------            -----------------          -------   ---------      -----------
	 00-1c-bf-21-85-90 00-03-0f-19-71-e1       wlan    Auth    0d:00:00:05
	Total Clients Associated To Local Switch....... 1
	Total Clients Associated To Peer Switches...... 0
</code></pre>
<p>é‡å¯APï¼Œå¯ä»¥é‡å¯æ‰€æœ‰APï¼Œä¹Ÿå¯ä»¥å•ç‹¬é‡å¯æŸä¸€å°AP</p>
<pre><code>DCWS-6028#wireless ap reset
DCWS-6028#wireless ap reset 00-03-0f-19-71-e0
</code></pre>
<h4 id="apå¸¸ç”¨ç»´æŠ¤å‘½ä»¤">APå¸¸ç”¨ç»´æŠ¤å‘½ä»¤</h4>
<p><strong>è·å–åœ°å€ä¿¡æ¯</strong></p>
<pre><code>AP# get management 
Property                   Value
--------------------------------------------
vlan-id                    1
interface                  brvlan1
static-ip                  192.168.2.1
static-mask                255.255.255.0
ip                         192.168.2.1
mask                       255.255.255.0
ipv6                       
ipv6-prefix-length         0
mac                        xx:xx:xx:xx:xx:xx
dhcp-status                up
dhcpv6-status              up
ipv6-status                up
ipv6-autoconfig-status     up
static-ipv6                
static-ipv6-prefix-length  0
</code></pre>
<p><strong>è®¾ç½®IPåœ°å€ä¿¡æ¯</strong></p>
<pre><code>AP# set management static-ip 192.168.2.1 //è®¾ç½®IP
AP# set static-ip-route management gateway 192.168.2.254    //é…ç½®ç½‘å…³
AP# set management static-mask 255.255.255.0  //è®¾ç½®æ©ç 
AP# set management dhcp-status down //å…³é—­DHCP
AP# set management dhcp-status up   //å¼€å¯DHCP
AP# set managed-ap switch-address-1 1.1.1.1 //è®¾ç½®ä¸»ACåœ°å€
AP# set managed-ap switch-address-2 2.2.2.2 //è®¾ç½®å¤‡ç”¨ACåœ°å€
AP# set managed-ap switch-address-2 3.3.3.3 //è®¾ç½®å¤‡ç”¨ACåœ°å€
</code></pre>
<p><strong>è®¾ç½®ç®¡ç†VLAN</strong></p>
<pre><code>AP# set management vlan-id 1
</code></pre>
<p>**é‡ç½®AP **</p>
<pre><code>DCN-WLAN-AP# factory-reset 
</code></pre>
<p>ç˜¦APè½¬èƒ–AP</p>
<pre><code>AP#switch-apmode fat
</code></pre>
<p>èƒ–APè½¬ç˜¦AP</p>
<pre><code>AP#switch-apmode fit
</code></pre>
<hr>
<h3 id="é…ç½®åŸåˆ™å…³ç³»å›¾è§£">é…ç½®åŸåˆ™å…³ç³»å›¾è§£</h3>
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/03/11/5aa536dc8b2bb.png" alt="æ— çº¿é…ç½®åŸåˆ™" loading="lazy"></figure>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ æˆ‘å›æ¥å•¦]]></title>
        <id>https://blog.ikozn.com/post/æˆ‘èƒ¡æ±‰ä¸‰å›æ¥äº†/</id>
        <link href="https://blog.ikozn.com/post/æˆ‘èƒ¡æ±‰ä¸‰å›æ¥äº†/">
        </link>
        <updated>2017-12-17T12:09:00.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="æ–°çš„å¼€å§‹æˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†">æ–°çš„å¼€å§‹ï¼Œæˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†ï¼</h3>
<p>å‰å‡ ä¸ªæœˆåŸåŸŸåè¢«å¢™ï¼Œå¯¼è‡´è®¸å¤šæœ‹å‹éƒ½ä¸Šä¸æ¥.</p>
<p>åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„å¿™ç¢Œä¹‹åï¼Œç»ˆäºæœ‰ç©ºé—²çš„æ—¶é—´æ¥ä¿®å¤äº†ï¼Œåœ¨è¿™é‡Œç»™å¤§å®¶è¯´ä¸€å£°æŠ±æ­‰ã€‚</p>
<p>ä¸è¿‡ï¼Œè¿™éƒ½ä¸é‡è¦ï¼é‡è¦çš„æ˜¯æˆ‘ç»ˆäºå›æ¥äº†ï¼å¹¶ä¸”è¿˜åšäº†ä¸€äº›å¾®å°çš„æ”¹åŠ¨ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<h3 id="æ–°çš„å¼€å§‹æˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†">æ–°çš„å¼€å§‹ï¼Œæˆ‘èƒ¡æ±‰ä¸‰åˆå›æ¥äº†ï¼</h3>
<p>å‰å‡ ä¸ªæœˆåŸåŸŸåè¢«å¢™ï¼Œå¯¼è‡´è®¸å¤šæœ‹å‹éƒ½ä¸Šä¸æ¥.</p>
<p>åœ¨ç»è¿‡ä¸€æ®µæ—¶é—´çš„å¿™ç¢Œä¹‹åï¼Œç»ˆäºæœ‰ç©ºé—²çš„æ—¶é—´æ¥ä¿®å¤äº†ï¼Œåœ¨è¿™é‡Œç»™å¤§å®¶è¯´ä¸€å£°æŠ±æ­‰ã€‚</p>
<p>ä¸è¿‡ï¼Œè¿™éƒ½ä¸é‡è¦ï¼é‡è¦çš„æ˜¯æˆ‘ç»ˆäºå›æ¥äº†ï¼å¹¶ä¸”è¿˜åšäº†ä¸€äº›å¾®å°çš„æ”¹åŠ¨ã€‚</p>
<!--more-->
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/03/31/5abf6be5c37d6.png" alt="éª„å‚²" loading="lazy"></figure>
<h3 id="åŸŸå">åŸŸå</h3>
<p>ç”±äºä¹‹å‰çš„åŸŸåè¢«å¢™äº†ï¼Œæ‰€ä»¥æŠŠ <code>nayo.moe</code> æ¢æˆäº† <code>ikozn.com</code>ã€‚</p>
<h3 id="åšå®¢ç¨‹åº">åšå®¢ç¨‹åº</h3>
<p>ä» WordPress æ¢åˆ°äº† Hexo,å¹¶ä¸”æ‰˜ç®¡äº Codingï¼Œæ‰€æœ‰æ–‡ç« éƒ½åˆMarkdownç¼–å†™ï¼Œå®é™…ä½¿ç”¨èµ·æ¥è¿˜æ˜¯ä¸é”™çš„ã€‚</p>
<p>è¿™æ¬¡è¿ç§»ä¹‹åï¼ŒåŠ ä¸Šäº†<a href="http://www.google.com/analytics/">Google Analytics </a>çš„ç½‘ç«™ç»Ÿè®¡æœåŠ¡ã€‚</p>
<p>ä½†æ˜¯è¿™éƒ½ <strong>ä¸! é‡! è¦!</strong></p>
<p>æœ€æœ€æœ€æœ€æœ€é‡è¦çš„æ˜¯ï¼Œè¿™ä¸ªå¯çˆ±çš„çœ‹æ¿å¨˜ï¼ï¼ï¼</p>
<figure data-type="image" tabindex="2"><img src="https://img.ikozn.com/images/AbMa.png" alt="çœ‹æ¿å¨˜" loading="lazy"></figure>
<figure data-type="image" tabindex="3"><img src="https://img.ikozn.com/images/AmJ2.jpg" alt="" loading="lazy"></figure>
<p>å“å‘€å¥½å¯çˆ±ï¼</p>
<p>è¿™å¯æ˜¯è´¹äº†æˆ‘ä¹ç‰›äºŒè™ä¹‹åŠ›æ‰å¼„ä¸Šæ¥çš„</p>
<p>å¯¹äºä¸€ä¸ªä¸ä¼šå¼€å‘çš„è¿ç»´å°èŒæ–°æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯ä¸ªå¥‡è¿¹ï¼</p>
<h3 id="åšå®¢å">åšå®¢å</h3>
<p>ç”±äºåŸŸåéƒ½æ¢äº†ï¼Œåšå®¢åè‡ªç„¶è€Œç„¶çš„ä¹Ÿæ¢æˆäº†Ikozn,å›¾åºŠä¹Ÿå°±ç›´æ¥å«å›¾åºŠå¥½äº†ï¼</p>
<h3 id="æ–‡ç« ">æ–‡ç« </h3>
<p>æš‚æ—¶åªæ¢å¤äº†ä¸€äº›æ–‡ç« ç”¨äºæµ‹è¯•ï¼Œä¹‹åä¼šé™†ç»­çš„æ¢å¤æ›´å¤šçš„æ–‡ç« ã€‚</p>
<p>æœ‰ä¸€äº›è´¨é‡ä¸æ˜¯å¾ˆå¥½çš„æ—§æ–‡ç« ï¼Œå’Œä¸€äº›è½¬è½½çš„æ–‡ç« ï¼Œéƒ½åˆ äº†ï¼Œç•™ä¸‹æ¥ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚</p>
<figure data-type="image" tabindex="4"><img src="https://img.ikozn.com/images/A6eJ.jpg" alt="" loading="lazy"></figure>
<h3 id="æœ€å">æœ€å</h3>
<p>ç›®å‰æ‰€æœ‰çš„å­ç«™</p>
<p><a href="https://img.ikozn.com">å›¾åºŠ</a></p>
<p><a href="https://cloud.ikozn.com">Cloud</a></p>
<p><s><a href="https://l4d2.ikozn.com">L4D2æ‘¸é±¼æœ</a></s></p>
<p><s><a href="https://minecraft.ikozn.com">Minecraftæ‘¸é±¼æœ</a></s></p>
<p><s><a href="https://BBS.ikozn.com">è®ºå›</a></s></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[ç§‘æ™®]IPåœ°å€ã€å­ç½‘åˆ’åˆ†åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿ]]></title>
        <id>https://blog.ikozn.com/post/ç§‘æ™®-IPåœ°å€ã€å­ç½‘åˆ’åˆ†åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿ/</id>
        <link href="https://blog.ikozn.com/post/ç§‘æ™®-IPåœ°å€ã€å­ç½‘åˆ’åˆ†åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿ/">
        </link>
        <updated>2017-12-15T10:02:04.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯ip">ä»€ä¹ˆæ˜¯IP</h3>
<p>IPåœ°å€å°±æ˜¯<code>ç½‘ç»œè®¾å¤‡</code>åœ¨ç½‘ç»œä¸­é€šä¿¡æ‰€ä½¿ç”¨çš„åœ°å€ï¼Œå°†é€šä¿¡çš„æ•°æ®åŒ…æ¯”ä½œå¿«é€’åŒ…è£¹ï¼Œé‚£ä¹ˆIPåœ°å€å°±ç›¸å½“äºä½ åœ¨å¿«é€’åŒ…ä¸Šå¡«çš„å‘è´§ä¸æ”¶è´§åœ°å€ã€‚</p>
<p>ä¸¤æ¡è®¾å¤‡éœ€è¦äº’ç›¸çŸ¥é“å¯¹æ–¹çš„åœ°å€ï¼Œæ‰èƒ½è¿›è¡Œé€šä¿¡ã€‚</p>
<p>ä¸€èˆ¬IPåœ°å€å†™ä½œ<code>192.168.10.1</code>è¿™æ ·çš„å½¢å¼</p>
<p>ä¸€ä¸ªIPåœ°å€ç”±ä¸‰ä¸ªç‚¹åˆ†æˆå››ä¸ªå°å—ï¼Œæ¯ä¸ªå°å—é‡Œéƒ½æœ‰ä¸€ä¸ªåè¿›åˆ¶æ•°æ¥è¡¨ç¤ºåœ°å€.</p>
<p>æ‰€ä»¥è¿™ç§è¡¨è¾¾IPåœ°å€çš„æ–¹å¼å«åšç‚¹åˆ†åè¿›åˆ¶,ä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨æœ€å¤šçš„æ–¹å¼.</p>
]]></summary>
        <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯ip">ä»€ä¹ˆæ˜¯IP</h3>
<p>IPåœ°å€å°±æ˜¯<code>ç½‘ç»œè®¾å¤‡</code>åœ¨ç½‘ç»œä¸­é€šä¿¡æ‰€ä½¿ç”¨çš„åœ°å€ï¼Œå°†é€šä¿¡çš„æ•°æ®åŒ…æ¯”ä½œå¿«é€’åŒ…è£¹ï¼Œé‚£ä¹ˆIPåœ°å€å°±ç›¸å½“äºä½ åœ¨å¿«é€’åŒ…ä¸Šå¡«çš„å‘è´§ä¸æ”¶è´§åœ°å€ã€‚</p>
<p>ä¸¤æ¡è®¾å¤‡éœ€è¦äº’ç›¸çŸ¥é“å¯¹æ–¹çš„åœ°å€ï¼Œæ‰èƒ½è¿›è¡Œé€šä¿¡ã€‚</p>
<p>ä¸€èˆ¬IPåœ°å€å†™ä½œ<code>192.168.10.1</code>è¿™æ ·çš„å½¢å¼</p>
<p>ä¸€ä¸ªIPåœ°å€ç”±ä¸‰ä¸ªç‚¹åˆ†æˆå››ä¸ªå°å—ï¼Œæ¯ä¸ªå°å—é‡Œéƒ½æœ‰ä¸€ä¸ªåè¿›åˆ¶æ•°æ¥è¡¨ç¤ºåœ°å€.</p>
<p>æ‰€ä»¥è¿™ç§è¡¨è¾¾IPåœ°å€çš„æ–¹å¼å«åšç‚¹åˆ†åè¿›åˆ¶,ä¹Ÿæ˜¯æˆ‘ä»¬ä½¿ç”¨æœ€å¤šçš„æ–¹å¼.</p>
<!--more-->
<blockquote>
<p>Qï¼šé‚£æœ‰ç‚¹åˆ†åè¿›åˆ¶è¿™ç§è¡¨ç¤ºæ–¹æ³•ï¼Œé‚£æ˜¯ä¸æ˜¯è¿˜æœ‰åˆ«çš„ï¼Ÿ</p>
<p>Aï¼šæ˜¯çš„å‘€ï¼Œä½ çœŸé¸¡å„¿èªæ˜ï¼Œå¾€ä¸‹çœ‹ã€‚</p>
</blockquote>
<h4 id="äºŒè¿›åˆ¶çš„ip">äºŒè¿›åˆ¶çš„IP</h4>
<p>IPåœ°å€åŸæœ¬çš„é¢ç›®æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„</p>
<p><code>11000000101010000000101000000001</code></p>
<p>è¿™å°±æ˜¯IPåœ°å€çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ–¹æ³•ï¼Œåˆè‡­åˆé•¿ã€‚</p>
<blockquote>
<p>Qï¼šä»€ä¹ˆé¬¼å‘€ï¼Ÿï¼äºŒè¿›åˆ¶æ˜¯å•¥ç©æ„å•Šï¼Ÿï¼</p>
<p>Aï¼šä½ ä¸«è‡ªå·±ç™¾åº¦å»ï¼ï¼</p>
<p>Qï¼šè¿™ä¸€ä¸²é•¿é•¿çš„éƒ½ç‰¹å–µçš„æ˜¯å•¥ç©æ„ï¼Ÿ!!</p>
<p>Aï¼šè¿™å°±æ˜¯æŠŠIPåœ°å€çš„ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ³•è¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶ä¹‹åçš„æ ·å­å•Š~</p>
<p>Qï¼šå¦ˆè€¶ï¼è¿™ä¹ˆé•¿è®°ä¸ªé¬¼å™¢</p>
<p>Aï¼šå°±æ˜¯å› ä¸ºé•¿ï¼Œæ‰€ä»¥æ‰éœ€è¦ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ³•å˜›.</p>
</blockquote>
<p>IPåœ°å€çš„ç±»åˆ«å†è¿™é‡Œä¸åšä»‹ç»ï¼Œæœ‰å…´è¶£äº†è§£çš„è‡ªè¡Œç™¾åº¦</p>
<hr>
<h3 id="ipçš„è¡¨ç¤ºæ–¹æ³•">IPçš„è¡¨ç¤ºæ–¹æ³•</h3>
<h4 id="å­—èŠ‚">å­—èŠ‚</h4>
<p>é¦–å…ˆå¼•å…¥ä¸€ä¸ªæ¦‚å¿µ<code>å­—èŠ‚</code></p>
<p>è®¡ç®—æœºä¸­æ•°æ®å‚¨å­˜æœ€å°çš„å•ä½æ˜¯<code>ä½</code>(Bit)ï¼Œæ¯ä¸€ä¸ªäºŒè¿›åˆ¶ä½å ä¸€ä¸ªä½ã€‚æ¯8ä½ä¸ºä¸€<code>å­—èŠ‚</code>(Byte)</p>
<p>æ¯”å¦‚<code>11000</code>è¿™å°±æœ‰5ä½äºŒè¿›åˆ¶ï¼Œå°±å äº†5ä¸ªBitã€‚</p>
<p>æˆ‘ä»¬å†å›æ¥çœ‹IPåœ°å€</p>
<p><code>11000000101010000000101000000001</code></p>
<p>ä¸€ä¸ªIPåœ°å€æœ€é•¿ä¸º32ä½äºŒè¿›åˆ¶,è¿™ä¸ªåœ°å€åˆšå¥½å äº†32ä½ã€‚</p>
<p>é‚£ä¹ˆå äº†å¤šå°‘ä¸ªå­—èŠ‚å‘¢ï¼Ÿ</p>
<p>æ¥ä¸€æ³¢ç®€å•çš„è®¡ç®—ï¼Œ<code>32Ã·8=4</code> å“‡å“¦ï¼Œå››ä¸ªå­—èŠ‚å“.</p>
<blockquote>
<p>Qï¼šç‚¹åˆ†åè¿›åˆ¶å¥½åƒä¹Ÿæ˜¯æŠŠIPåˆ†æˆ4ä¸ªå°å—å“ï¼è«é...å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆä¸å¯å‘Šäººçš„ï¼Ÿ..</p>
<p>Aï¼šå¦ˆè€¶ï¼æ˜¯æœ‰å…³ç³»å†‡é”™ï¼Œä½†æ˜¯ä¸å¯å‘Šäººæ˜¯ä»€ä¹ˆé¬¼å“¦ï¼Ÿï¼</p>
</blockquote>
<h4 id="ipåœ°å€äºŒ-åè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢">IPåœ°å€äºŒã€åè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢</h4>
<p>å› ä¸ºäºŒè¿›åˆ¶çš„IPåœ°å€è´¼é¸¡å„¿é•¿ï¼Œæ‰€ä»¥å‡ºç°äº†ç‚¹åˆ†åè¿›åˆ¶çš„è¡¨ç¤ºæ³•ï¼Œæ–¹ä¾¿ä½¿ç”¨ä¸è®°å¿†</p>
<p>æˆ‘ä»¬æŠŠä¸€ä¸ªå®Œæ•´çš„IPåœ°å€ä½¿ç”¨<code>.</code>åˆ†ä¸º4ä¸ªå°å—ï¼Œæ¯ä¸ªå°å—ä¸€ä¸ªå­—èŠ‚ã€‚</p>
<p>ç„¶åè´¼é¸¡å„¿é•¿çš„</p>
<p><code>11000000101010000000101000000001</code></p>
<p>å°±å˜æˆäº†</p>
<p><code>11000000</code>.<code>10101000</code>.<code>00001010</code>.<code>00000001</code></p>
<p>è¿™è¡¨ç¤ºæ³•å°±å«åšç‚¹åˆ†äºŒè¿›åˆ¶.ç”±ç‚¹åˆ†éš”å¼€æ¥ï¼Œæ¯ä¸ªå°å—é‡Œçš„æ•°éƒ½ä¸ºäºŒè¿›åˆ¶</p>
<blockquote>
<p>å†å¼•å…¥å‡ ä¸ªæ¦‚å¿µ,<code>ç¬¬ä¸€å­—èŠ‚</code> <code>ç¬¬äºŒå­—èŠ‚</code> <code>ç¬¬ä¸‰å­—èŠ‚</code> <code>ç¬¬å››å­—èŠ‚</code></p>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™ä¸ªæ¦‚å¿µæ˜¯æˆ‘è‡ªå·±çé¸¡å„¿æå‡ºæ¥çš„ï¼Œæ–¹ä¾¿è®°å¿†</p>
</blockquote>
<table>
<thead>
<tr>
<th>11000000</th>
<th>10101000</th>
<th>00001010</th>
<th>00000001</th>
</tr>
</thead>
<tbody>
<tr>
<td>ç¬¬ä¸€å­—èŠ‚</td>
<td>ç¬¬äºŒå­—èŠ‚</td>
<td>ç¬¬ä¸‰å­—èŠ‚</td>
<td>ç¬¬å››å­—èŠ‚</td>
</tr>
</tbody>
</table>
<p>å¦‚ä¸Šè¡¨æ‰€ç¤ºï¼Œå› ä¸ºæ¯ä¸ªå°å—ä¸º8ä½äºŒè¿›åˆ¶ï¼Œè€Œ8ä½äºŒè¿›åˆ¶æ­£å¥½ä¸º1å­—èŠ‚ã€‚</p>
<p>æ‰€ä»¥æˆ‘ç¬¬ä¸€ä¸ªå°å—å«åšç¬¬ä¸€å­—èŠ‚ï¼Œç¬¬äºŒä¸ªå°å—å«åšç¬¬äºŒä¸ªå­—èŠ‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬æŠŠæ¯ä¸ªå­—èŠ‚éƒ½è½¬æˆ10è¿›åˆ¶</p>
<p><strong>ç¬¬ä¸€å­—èŠ‚è½¬æ¢æˆåè¿›åˆ¶</strong>	<code>192</code></p>
<p><strong>ç¬¬äºŒå­—èŠ‚è½¬æ¢æˆåè¿›åˆ¶</strong>	<code>168</code></p>
<p><strong>ç¬¬ä¸‰å­—èŠ‚è½¬æ¢æˆåè¿›åˆ¶</strong>	<code>10</code></p>
<p><strong>ç¬¬å››å­—èŠ‚è½¬æ¢æˆåè¿›åˆ¶</strong>	<code>1</code></p>
<p>æœ€åå†åˆèµ·æ¥å°±å¾—åˆ°äº†<code>192.168.10.1</code></p>
<p>æƒ³è¦æŠŠç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºçš„IPè½¬æˆåè¿›åˆ¶åªéœ€è¦åç€æ¥å°±å¥½äº†</p>
<hr>
<h3 id="ä¸€ä¸ªå­—èŠ‚èƒ½è¡¨è¾¾çš„æœ€å¤§å€¼">ä¸€ä¸ªå­—èŠ‚èƒ½è¡¨è¾¾çš„æœ€å¤§å€¼</h3>
<p>IPåœ°å€åœ¨åè¿›åˆ¶çš„å½¢æ€ä¸‹ï¼Œæ¯å­—èŠ‚çš„å€¼æœ€å¤§åªèƒ½ä¸º255.</p>
<p>IPåœ°å€ç©¶å…¶æœ¬è´¨ï¼Œè¿˜æ˜¯ä»äºŒè¿›åˆ¶è½¬æ¢è€Œæ¥çš„.</p>
<p>ç”±äºæ¯ä¸ªå­—èŠ‚ä¹Ÿå°±åªæœ‰8ä½äºŒè¿›åˆ¶</p>
<p>æœ€å°ä¸º<code>00000000</code>,æœ€å¤§ä¸º<code>11111111</code></p>
<p><code>00000000</code>è½¬æ¢æˆåè¿›åˆ¶æ˜¯0</p>
<p><code>11111111</code>è½¬æ¢æˆåè¿›åˆ¶æ˜¯255</p>
<p>æ‰€ä»¥æ¯ä¸ªå­—èŠ‚(8ä½äºŒè¿›åˆ¶)æ‰€èƒ½è¡¨è¾¾å€¼çš„èŒƒå›´å°±æ˜¯ <code>00000000</code>-<code>11111111</code>ï¼Œè½¬æ¢æˆåè¿›åˆ¶ä¹Ÿå°±æ˜¯ <code>0</code>-<code>255</code></p>
<hr>
<h3 id="æ©ç ä¸å­ç½‘">æ©ç ä¸å­ç½‘</h3>
<p>é€šå¸¸é…ç½®IPåœ°å€çš„æ—¶å€™ï¼Œè¿˜éœ€è¦é…ç½®ä¸€ä¸ªå­ç½‘æ©ç ã€‚</p>
<p>IPä¸å­ç½‘æ©ç æ˜¯æˆå¯¹å‡ºç°çš„,æ©ç çš„ä½œç”¨å°±æ˜¯ç”¨äºåˆ¤æ–­ä¸€ä¸ªIPåœ°å€ï¼Œæ˜¯å±äºå“ªä¸ªå­ç½‘çš„ã€‚</p>
<h4 id="å­ç½‘">å­ç½‘</h4>
<p>ä¹‹å‰è°ˆIPåœ°å€çš„æ—¶å€™æˆ‘ä»¬è®²è¿‡ï¼ŒIPåœ°å€ç›¸å½“äºä½ åœ¨å¿«é€’åŒ…ä¸Šå¡«çš„å‘è´§ä¸æ”¶è´§åœ°å€ã€‚</p>
<p>é‚£ä¹ˆåœ°å€ä¸€èˆ¬å†™çš„éƒ½æ˜¯<code>AçœBå¸‚CåŒºDè·¯Eå°åŒºFå•å…ƒGå·æˆ¿é—´</code> å§ï¼Œæ€»ä¸èƒ½åœ¨åœ°å€ä¸Šç›´æ¥å†™Gæˆ¿é—´å‘€ã€‚</p>
<p>æ‰€ä»¥å‘¢ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œä¸€ä¸ªå›½å®¶åˆ†ä¸ºäº†å„ä¸ªçœï¼Œæ¥ç€å„ä¸ªçœä¸‹åˆåˆ†ä¸ºäº†å„ä¸ªå¸‚</p>
<p>ä»¥æ­¤ç±»æ¨ï¼Œå°±å‡ºç°äº†åŒºã€è·¯(è¡—)ã€å°åŒºã€å•å…ƒã€æˆ¿é—´å·çš„æ¦‚å¿µï¼Œéƒ½æ˜¯å°†ä¸€ä¸ªå¤§çš„<strong>åŒºåŸŸ</strong>åˆ’åˆ†ä¸ºä¸€ä¸ªç›¸å¯¹å°çš„<strong>åŒºåŸŸ</strong>ã€‚</p>
<p>åŒæ ·çš„ï¼ŒIPç½‘ç»œä¹Ÿå¯ä»¥åˆ’åˆ†æˆæ›´å°çš„ç½‘ç»œï¼Œè¿™äº›æ›´å°çš„ç½‘ç»œï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸º<strong>å­ç½‘</strong></p>
<blockquote>
<p>PS:æ”¶è´§åœ°å€å¹¶ä¸ä¸€å®šéƒ½æ˜¯è¿™ä¹ˆå†™ï¼Œæ¯”å¦‚æˆ‘å°±ä¸ä¸€å®šä¼šç²¾ç»†çš„å†™åˆ°æŸæŸæˆ¿é—´</p>
<p>è¿™é‡Œåªæ˜¯ä¸€ä¸ªæ–¹ä¾¿ç†è§£çš„æ¯”å–»ï¼Œä¸è¦é’»ç‰›è§’å°–</p>
</blockquote>
<h4 id="æ©ç ">æ©ç </h4>
<p>å› ä¸ºå‡ºç°äº†å­ç½‘çš„æ¦‚å¿µï¼Œæ‰€ä»¥å­ç½‘æ©ç å°±åº”è¿è€Œç”Ÿäº†ã€‚</p>
<p>å­ç½‘æ©ç çš„ä½œç”¨,å°±æ˜¯ç”¨äºåˆ¤æ–­ä¸€ä¸ªIPåœ°å€ï¼Œæ˜¯å±äºå“ªä¸ªå­ç½‘çš„ã€‚</p>
<h5 id="æ©ç çš„è¡¨ç¤º">æ©ç çš„è¡¨ç¤º</h5>
<p>ç›¸ä¿¡å¤§å®¶æœ€å¸¸è§çš„æ©ç å°±æ˜¯ <code>255.255.255.0</code>äº†å§</p>
<p>æ©ç è½¬æˆåè¿›åˆ¶æ—¶å€™ï¼Œå…¶å®ä¹Ÿæ˜¯ç‚¹åˆ†åè¿›åˆ¶çš„è¡¨ç¤ºæ–¹å¼.</p>
<p>è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯</p>
<p><code>11111111.11111111.11111111.00000000</code></p>
<p>å‘ç°äº†å—ï¼Œä»å·¦åˆ°å³å…¨éƒ½æ˜¯<code>1</code></p>
<p>æ©ç æ˜¯ä»å·¦è‡³å³ç”±<strong>è¿ç»­çš„</strong><code>1</code>ç»„æˆï¼Œä¸èƒ½æ–­å¼€</p>
<p>ä¾‹å¦‚</p>
<p><code>11111111.11110111.11111111.00000000</code></p>
<p>å°±ä¸æ˜¯ä¸€ä¸ªæ©ç </p>
<p>è¿˜æœ‰ä¸€ç§è¡¨ç¤ºæ–¹æ³•ä¸º <code>IPåœ°å€</code>/<code>æ©ç é•¿åº¦</code></p>
<p>æ¯”å¦‚ <code>192.168.10.1</code>/<code>24</code></p>
<p>å°±è¡¨ç¤º IPåœ°å€ä¸º <code>192.168.10.1</code> è€Œæ©ç ä¸º <code>11111111.11111111.11111111.00000000</code>ï¼ˆ24ä¸ª1ï¼‰</p>
<p>ä¹Ÿå°±æ˜¯<code>255.255.255.0</code></p>
<h5 id="ç½‘ç»œä½-ä¸»æœºä½">ç½‘ç»œä½ ä¸»æœºä½</h5>
<p>ç®€å•çš„è¯´ï¼Œç½‘ç»œä½å°±æ˜¯æ©ç ä¸­<code>1</code>çš„éƒ¨åˆ†ï¼Œè€Œä¸»æœºä½å°±æ˜¯æ©ç ä¸­<code>0</code>çš„éƒ¨åˆ†</p>
<p>å½“æƒ³çŸ¥é“ä¸€ä¸ªåœ°å€çš„æ‰€å±å“ªä¸ªå­ç½‘ï¼Œä¹Ÿå°±æ˜¯è·å–ä¸€ä¸ªåœ°å€çš„ç½‘ç»œå·æ—¶ã€‚</p>
<p>æˆ‘ä»¬ä½¿ç”¨æ©ç è·ŸIPåœ°å€è¿›è¡Œ<code>ä¸</code>è¿ç®—</p>
<p>è€Œæƒ³çŸ¥é“ä¸»æœºå·çš„æ—¶å€™ï¼Œå°±å°†æ©ç å–åå†è·ŸIPåœ°å€è¿›è¡Œ<code>ä¸</code>è¿ç®—</p>
<blockquote>
<p><code>ä¸</code>è¿ç®—æ˜¯é€»è¾‘è¿ç®—</p>
<p><code>1</code>ä¸ä»»ä½•æ•°ç›¸<code>ä¸</code>å¾—åˆ°ä»»ä½•æ•°</p>
<p><code>0</code>ä¸ä»»ä½•æ•°ç›¸<code>ä¸</code>éƒ½å¾—<code>0</code></p>
</blockquote>
<p><strong>ä¸¾ä¸ªä¾‹å­</strong></p>
<p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªIPåœ°å€ä¸º <code>192.168.10.1/24</code></p>
<p>ä¸ºäº†æ–¹ä¾¿è®²è§£ï¼Œæˆ‘ä»¬å…ˆåˆ—ä¸€ä¸ªè¡¨</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ©ç </th>
<th style="text-align:left">11111111</th>
<th style="text-align:left">11111111</th>
<th style="text-align:left">11111111</th>
<th style="text-align:right">00000000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">IPåœ°å€äºŒè¿›åˆ¶</td>
<td style="text-align:left">11000000</td>
<td style="text-align:left">10101000</td>
<td style="text-align:left">00001010</td>
<td style="text-align:right">00000001</td>
</tr>
<tr>
<td style="text-align:center">IPåœ°å€åè¿›åˆ¶</td>
<td style="text-align:left">192</td>
<td style="text-align:left">168</td>
<td style="text-align:left">10</td>
<td style="text-align:right">1</td>
</tr>
<tr>
<td style="text-align:center">å­—èŠ‚</td>
<td style="text-align:left">ç¬¬ä¸€å­—èŠ‚</td>
<td style="text-align:left">ç¬¬äºŒå­—èŠ‚</td>
<td style="text-align:left">ç¬¬ä¸‰å­—èŠ‚</td>
<td style="text-align:right">ç¬¬å››å­—èŠ‚</td>
</tr>
</tbody>
</table>
<p>å…¶ä¸­ï¼Œæ©ç ç¬¬ä¸€åˆ°ä¸‰å­—èŠ‚éƒ½ä¸ºç½‘ç»œä½ï¼Œç¬¬å››å­—èŠ‚ä¸ºä¸»æœºä½</p>
<h6 id="è·å–ç½‘ç»œå·">è·å–ç½‘ç»œå·</h6>
<p>æŒ‰ç…§ä¸Šé¢è¯´çš„.å°†æ©ç ä¸IPåœ°å€ç›¸<code>ä¸</code>ï¼Œå°±å¾—åˆ°äº†äºŒè¿›åˆ¶çš„ç½‘ç»œå·</p>
<table>
<thead>
<tr>
<th>æ©ç </th>
<th style="text-align:center">11111111</th>
<th style="text-align:center">11111111</th>
<th style="text-align:center">11111111</th>
<th style="text-align:center">00000000</th>
</tr>
</thead>
<tbody>
<tr>
<td>IPåœ°å€</td>
<td style="text-align:center">11000000</td>
<td style="text-align:center">10101000</td>
<td style="text-align:center">00001010</td>
<td style="text-align:center">00000001</td>
</tr>
<tr>
<td>ç½‘ç»œå·</td>
<td style="text-align:center">11000000</td>
<td style="text-align:center">10101000</td>
<td style="text-align:center">00001010</td>
<td style="text-align:center">00000000</td>
</tr>
</tbody>
</table>
<p>æ¥ç€å†å°†ç›¸ä¸åçš„äºŒè¿›åˆ¶è½¬æ¢æˆç‚¹åˆ†åè¿›åˆ¶ï¼Œæ¥ç€æˆ‘ä»¬å°±å¾—åˆ°ç½‘ç»œå·:<code>192.168.10.0/24</code></p>
<table>
<thead>
<tr>
<th style="text-align:center">11000000</th>
<th style="text-align:center">10101000</th>
<th style="text-align:center">00001010</th>
<th style="text-align:center">00000000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">192</td>
<td style="text-align:center">168</td>
<td style="text-align:center">10</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<h6 id="ä¾‹è·å–ä¸»æœºå·">ä¾‹è·å–ä¸»æœºå·</h6>
<p>é¦–å…ˆï¼Œå°†æ©ç å–åï¼Œä¹Ÿå°±æ˜¯å°†<code>1</code>å’Œ<code>0</code>åè¿‡æ¥ï¼Œå¾—åˆ°åæ©ç </p>
<table>
<thead>
<tr>
<th style="text-align:center">åŸæ©ç </th>
<th style="text-align:center">11111111</th>
<th style="text-align:center">11111111</th>
<th style="text-align:center">11111111</th>
<th>00000000</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">åæ©ç </td>
<td style="text-align:center">00000000</td>
<td style="text-align:center">00000000</td>
<td style="text-align:center">00000000</td>
<td>11111111</td>
</tr>
</tbody>
</table>
<p>æ¥ç€å†ç”¨åæ©ç è·ŸIPåœ°å€ç›¸<code>ä¸</code>ï¼Œå¾—åˆ°ä¸»æœºå·çš„äºŒè¿›åˆ¶</p>
<table>
<thead>
<tr>
<th>åæ©ç </th>
<th>00000000</th>
<th>00000000</th>
<th>00000000</th>
<th>11111111</th>
</tr>
</thead>
<tbody>
<tr>
<td>IPåœ°å€</td>
<td>11000000</td>
<td>10101000</td>
<td>00001010</td>
<td>00000001</td>
</tr>
<tr>
<td>ä¸»æœºå·</td>
<td>00000000</td>
<td>00000000</td>
<td>00000000</td>
<td>00000001</td>
</tr>
</tbody>
</table>
<p>å†å°†ç»“æœè½¬æˆ10è¿›åˆ¶ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸»æœºå· :<code>1</code></p>
<h5 id="ç‰¹æ®Šçš„åœ°å€">ç‰¹æ®Šçš„åœ°å€</h5>
<p>åœ¨å­ç½‘ä¸­ï¼Œæœ‰ä¸‰é’Ÿåœ°å€</p>
<p>åˆ†åˆ«æ˜¯ <strong>ç½‘ç»œå·</strong>ã€<strong>å¹¿æ’­åœ°å€</strong>ã€<strong>ä¸»æœºåœ°å€</strong></p>
<h6 id="ç½‘ç»œå·">ç½‘ç»œå·</h6>
<p>é¡¾åæ€ä¹‰ï¼Œçœ‹åˆ°åå­—å°±æ˜ç™½äº†ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è¡¨ç¤ºä¸€ä¸ªå­ç½‘ã€ç½‘æ®µçš„ä¸€ä¸ªåœ°å€.</p>
<p>å®šä¹‰:ä¸»æœºä½å…¨<code>0</code>çš„åœ°å€</p>
<p>ä¾‹å¦‚:<code>192.168.10.0/24</code></p>
<h6 id="å¹¿æ’­åœ°å€">å¹¿æ’­åœ°å€</h6>
<p>è¿™ä¸ªåˆšå…¥é—¨ä¹Ÿè®¸æœ‰äº›éš¾ä»¥ç†è§£</p>
<p>å…¶å®è¿™å°±æ˜¯<strong>ä¸»æœº</strong>åŒæ—¶å‘<strong>åŒä¸ªå­ç½‘</strong>ä¸­çš„<strong>å…¶ä»–æ‰€æœ‰</strong>ä¸»æœºå‘é€ä¿¡æ¯æ—¶ä½¿ç”¨çš„åœ°å€</p>
<p>å®šä¹‰:ä¸»æœºå…¨<code>1</code>çš„åœ°å€</p>
<p>ä¾‹å¦‚:<code>192.168.10.255/24</code></p>
<h6 id="ä¸»æœºåœ°å€">ä¸»æœºåœ°å€</h6>
<p>è¿™ä¸ªä¹Ÿå¾ˆå¥½ç†è§£ï¼Œç”¨äºè¡¨ç¤ºå­ç½‘ä¸­ä¸€å°ä¸»æœºçš„åœ°å€</p>
<p>å®šä¹‰:ä¸»æœºä½æ—¢ä¸æ˜¯å…¨<code>0</code>,ä¹Ÿä¸æ˜¯å…¨<code>1</code>çš„åœ°å€</p>
<blockquote>
<p>å¦‚æœå°†IPåœ°å€æ¯”å–»åšé…’åº—æˆ¿é—´åœ°å€çš„è¯</p>
<p>ç½‘ç»œå·ç›¸å½“äºæ¥¼å±‚å·ï¼Œè¡¨ç¤ºä¸€ä¸ª<strong>æ¥¼å±‚</strong></p>
<p>ä¸»æœºåœ°å€è¡¨ç¤ºè¿™å±‚æ¥¼ä¸­çš„<strong>ä¸€é—´æˆ¿é—´</strong></p>
<p>è€Œå¹¿æ’­åœ°å€ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ªæ¥¼å±‚ä¸­çš„<strong>æ‰€æœ‰æˆ¿é—´</strong></p>
<p><strong>æ¥¼å±‚</strong>åŒ…å«è¿™å±‚æ¥¼çš„<strong>æ‰€æœ‰æˆ¿é—´</strong></p>
<p><strong>æ‰€æœ‰æˆ¿é—´</strong>åŒ…å«<strong>ä¸€é—´æˆ¿é—´</strong></p>
</blockquote>
<hr>
<h3 id="å­ç½‘åˆ’åˆ†">å­ç½‘åˆ’åˆ†</h3>
<p><code>å¾…å¡«å‘</code></p>
<h4 id="å­ç½‘åˆ’åˆ†åŸç†">å­ç½‘åˆ’åˆ†åŸç†</h4>
<h6 id="æ ¹æ®ä¸»æœºæ•°åˆ’åˆ†å­ç½‘">æ ¹æ®ä¸»æœºæ•°åˆ’åˆ†å­ç½‘</h6>
<p><code>å¾…å¡«å‘</code></p>
<h6 id="æ ¹æ®å­ç½‘æ•°åˆ’åˆ†å­ç½‘">æ ¹æ®å­ç½‘æ•°åˆ’åˆ†å­ç½‘</h6>
<p><code>å¾…å¡«å‘</code></p>
<h4 id="å¿«é€Ÿå­ç½‘åˆ’åˆ†">å¿«é€Ÿå­ç½‘åˆ’åˆ†</h4>
<h6 id="å¿«é€Ÿåˆ’åˆ†å­ç½‘åŸç†">å¿«é€Ÿåˆ’åˆ†å­ç½‘åŸç†</h6>
<p><code>å¾…å¡«å‘</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[Note]è®ºå¦‚ä½•é£Ÿç”¨KMSæ¿€æ´»]]></title>
        <id>https://blog.ikozn.com/post/ç¬”è®°-è®ºå¦‚ä½•é£Ÿç”¨KMSæ¿€æ´»/</id>
        <link href="https://blog.ikozn.com/post/ç¬”è®°-è®ºå¦‚ä½•é£Ÿç”¨KMSæ¿€æ´»/">
        </link>
        <updated>2017-12-15T09:56:40.000Z</updated>
        <summary type="html"><![CDATA[<h3 id="kms-æœåŠ¡å™¨åœ°å€">KMS æœåŠ¡å™¨åœ°å€</h3>
<p>æ¨èä½¿ç”¨<a href="https://03k.org/">é›¶æ•£å‘</a>çš„KMSæ¿€æ´»æœåŠ¡</p>
<pre><code>kms.03k.org
</code></pre>
<h3 id="kms-version">Kms version</h3>
<pre><code>vlmcsd-1108-2017-01-19-Hotbird64
</code></pre>
]]></summary>
        <content type="html"><![CDATA[<h3 id="kms-æœåŠ¡å™¨åœ°å€">KMS æœåŠ¡å™¨åœ°å€</h3>
<p>æ¨èä½¿ç”¨<a href="https://03k.org/">é›¶æ•£å‘</a>çš„KMSæ¿€æ´»æœåŠ¡</p>
<pre><code>kms.03k.org
</code></pre>
<h3 id="kms-version">Kms version</h3>
<pre><code>vlmcsd-1108-2017-01-19-Hotbird64
</code></pre>
<!--more-->
<h3 id="æ­£ç‰‡">æ­£ç‰‡</h3>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦ç¡®ä¿çš„ä¸‹è½½çš„æ˜¯ VL æ‰¹é‡ç‰ˆæœ¬å¹¶ä¸”æ²¡æœ‰æ‰‹åŠ¨å®‰è£…è¿‡ä»»ä½• keyï¼Œ ä½ åªéœ€è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ cmd æ‰§è¡Œä¸€å¥å‘½ä»¤å°±è¶³å¤Ÿï¼š</p>
<pre><code>slmgr /skms kms.03k.org
</code></pre>
<p>ç„¶åå»è®¡ç®—æœºå±æ€§æˆ–è€…æ§åˆ¶é¢æ¿å…¶ä»–çš„ä»€ä¹ˆçš„åœ°æ–¹ç‚¹ä¸€ä¸‹æ¿€æ´»å°±å¥½äº†ã€‚<br>
å½“ç„¶ï¼Œå¦‚æœä½ æ‡’å¾—ç‚¹ï¼Œå¯ä»¥å¤šæ‰“ä¸€å¥å‘½ä»¤æ‰‹åŠ¨æ¿€æ´»ï¼š</p>
<pre><code>slmgr /ato
</code></pre>
<p>è¿™å¥å‘½ä»¤çš„æ„æ€æ˜¯ï¼Œé©¬ä¸Šå¯¹å½“å‰è®¾ç½®çš„ key å’ŒæœåŠ¡å™¨åœ°å€ç­‰è¿›è¡Œå°è¯•æ¿€æ´»æ“ä½œã€‚</p>
<p>kms æ¿€æ´»çš„å‰ææ˜¯ä½ çš„ç³»ç»Ÿæ˜¯æ‰¹é‡æˆæƒç‰ˆæœ¬ï¼Œå³ VL ç‰ˆï¼Œä¸€èˆ¬ä¼ä¸šç‰ˆéƒ½æ˜¯ VL ç‰ˆï¼Œä¸“ä¸šç‰ˆæœ‰é›¶å”®å’Œ VL ç‰ˆï¼Œå®¶åº­ç‰ˆæ——èˆ°ç‰ˆ OEM ç‰ˆç­‰ç­‰é‚£å°±è‚¯å®šä¸èƒ½ç”¨ kms æ¿€æ´»ã€‚ä¸€èˆ¬å»ºè®®ä» http://msdn.itellyou.cn ä¸Šé¢ä¸‹è½½ç³»ç»Ÿ VL ç‰ˆæœ¬çš„é•œåƒä¸€èˆ¬å†…ç½® GVLK keyï¼Œç”¨äº kms æ¿€æ´»ã€‚å¦‚æœä½ æ‰‹åŠ¨è¾“è¿‡å…¶ä»– keyï¼Œé‚£ä¹ˆè¿™ä¸ªå†…ç½®çš„ key å°±ä¼šè¢«æ›¿æ¢æ‰ï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœä½ æƒ³ç”¨ kmsï¼Œé‚£ä¹ˆå°±éœ€è¦æŠŠ GVLK key è¾“å›å»ã€‚é¦–å…ˆï¼Œ åˆ° https://technet.microsoft.com/en-us/library/jj612867.aspx è·å–ä½ å¯¹åº”ç‰ˆæœ¬çš„ KEY å¦‚æœæ‰“ä¸å¼€ä¸‹é¢æœ‰å¯¹åº”çš„</p>
<p>å¦‚æœä¸çŸ¥é“è‡ªå·±çš„ç³»ç»Ÿæ˜¯ä»€ä¹ˆç‰ˆæœ¬ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬ï¼š</p>
<pre><code>wmic os get caption
</code></pre>
<p>å¾—åˆ°å¯¹åº” key ä¹‹åï¼Œä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œ cmd æ‰§è¡Œå®‰è£… keyï¼š</p>
<pre><code>slmgr /ipk xxxxx-xxxxx-xxxxx-xxxxx
</code></pre>
<p>ç„¶åè·Ÿä¸Šé¢è¯´çš„ä¸€æ ·è®¾ç½® kms æœåŠ¡å™¨åœ°å€ï¼Œæ¿€æ´»ã€‚</p>
<h3 id="ä¸€å¥å‘½ä»¤æ¿€æ´»-office">ä¸€å¥å‘½ä»¤æ¿€æ´» OFFICE</h3>
<p>é¦–å…ˆä½ çš„ OFFICE å¿…é¡»æ˜¯ VOL ç‰ˆæœ¬ï¼Œå¦åˆ™æ— æ³•æ¿€æ´»ã€‚ æ‰¾åˆ°ä½ çš„ office å®‰è£…ç›®å½•ï¼Œæ¯”å¦‚</p>
<pre><code>C:\Program Files (x86)\Microsoft Office\Office16
</code></pre>
<p>64 ä½çš„å°±æ˜¯</p>
<pre><code>C:\Program Files\Microsoft Office\Office16
</code></pre>
<p>office16 æ˜¯ office2016ï¼Œoffice15 å°±æ˜¯ 2013ï¼Œoffice14 å°±æ˜¯ 2010. ç„¶åç›®å½•å¯¹çš„è¯ï¼Œè¯¥ç›®å½•ä¸‹é¢åº”è¯¥æœ‰ä¸ª OSPP.VBSã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬å°± cd åˆ°è¿™ä¸ªç›®å½•ä¸‹é¢ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code>cd C:\Program Files (x86)\Microsoft Office\Office16
</code></pre>
<p>ç„¶åæ‰§è¡Œæ³¨å†Œ kms æœåŠ¡å™¨åœ°å€ï¼š</p>
<pre><code>cscript ospp.vbs /sethst:kms.03k.org
</code></pre>
<p>/sethst å‚æ•°å°±æ˜¯æŒ‡å®š kms æœåŠ¡å™¨åœ°å€ã€‚ ä¸€èˆ¬ ospp.vbs å¯ä»¥æ‹–è¿›å» cmd çª—å£ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥è¿™ä¹ˆå¼„ï¼š</p>
<pre><code>cscript &quot;C:\Program Files (x86)\Microsoft Office\Office16\OSPP.VBS&quot; /sethst:kms.03k.org
</code></pre>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œâ€œä¸€å¥å‘½ä»¤å·²ç»å®Œæˆäº†â€ï¼Œä½†ä¸€èˆ¬ office ä¸ä¼šé©¬ä¸Šè¿æ¥ kms æœåŠ¡å™¨è¿›è¡Œæ¿€æ´»ï¼Œæ‰€ä»¥æˆ‘ä»¬é¢å¤–è¡¥å……ä¸€æ¡æ‰‹åŠ¨æ¿€æ´»å‘½ä»¤ï¼š</p>
<pre><code>cscript ospp.vbs /act
</code></pre>
<p>å¦‚æœæç¤ºçœ‹åˆ° successful çš„å­—æ ·ï¼Œé‚£ä¹ˆå°±æ˜¯æ¿€æ´»æˆåŠŸäº†ï¼Œé‡æ–°æ‰“å¼€ office å°±å¥½ã€‚ å¦‚æœé‡åˆ°æŠ¥é”™ï¼Œè¯·æ£€æŸ¥ï¼š</p>
<p>ä½ çš„ç³»ç»Ÿ/OFFICE æ˜¯å¦æ˜¯æ‰¹é‡ VL ç‰ˆæœ¬<br>
æ˜¯å¦ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œ CMD<br>
ä½ çš„ç³»ç»Ÿ/OFFICE æ˜¯å¦ä¿®æ”¹è¿‡ KEY/æœªå®‰è£… GVLK KEY<br>
æ£€æŸ¥ä½ çš„ç½‘ç»œè¿æ¥<br>
æœåŠ¡å™¨ç¹å¿™ï¼Œå¤šè¯•è¯•ï¼ˆç‚¹å‡»æ£€æŸ¥ KMS æœåŠ¡æ˜¯å¦å¯ç”¨ï¼‰<br>
æ ¹æ®å‡ºé”™ä»£ç è‡ªå·±æœç´¢å‡ºé”™åŸå› </p>
<p><a href="https://technet.microsoft.com/en-us/library/jj612867.aspx">Windows GVLK å¯†é’¥å¯¹ç…§è¡¨ï¼ˆKMS æ¿€æ´»ä¸“ç”¨ï¼‰</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ æ²‰è¿·å‰‘ä¸‰ ]]></title>
        <id>https://blog.ikozn.com/post/æ²‰è¿·å‰‘ä¸‰/</id>
        <link href="https://blog.ikozn.com/post/æ²‰è¿·å‰‘ä¸‰/">
        </link>
        <updated>2017-06-24T09:11:29.000Z</updated>
        <content type="html"><![CDATA[<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/03/31/5abf6bb365875.jpg" alt="JX3" loading="lazy"></figure>
<blockquote>
<p>è‡ªåœ¨é€é¥ï¼</p>
</blockquote>
<!--more-->]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[[å®éªŒè®°å½•]å•è®¾å¤‡åŒå‡ºå£NAT]]></title>
        <id>https://blog.ikozn.com/post/å®éªŒè®°å½•-å•è®¾å¤‡åŒå‡ºå£NAT/</id>
        <link href="https://blog.ikozn.com/post/å®éªŒè®°å½•-å•è®¾å¤‡åŒå‡ºå£NAT/">
        </link>
        <updated>2017-05-23T03:59:26.000Z</updated>
        <summary type="html"><![CDATA[<h2 id="ä¸€-éœ€æ±‚">ä¸€ã€éœ€æ±‚</h2>
<p>è®¿é—®è”é€š(20.20.20.0/24)ç½‘æ®µçš„æµé‡èµ°è”é€š<br>
å…¶ä»–æµé‡é»˜è®¤èµ°ç”µä¿¡<br>
ä¸¤æ¡é“¾è·¯äº’ä¸ºå¤‡ä»½<br>
R3ä¸ºå‡ºå£è·¯ç”±å™¨<br>
ä½¿ç”¨PATè¿›è¡ŒNAT</p>
]]></summary>
        <content type="html"><![CDATA[<h2 id="ä¸€-éœ€æ±‚">ä¸€ã€éœ€æ±‚</h2>
<p>è®¿é—®è”é€š(20.20.20.0/24)ç½‘æ®µçš„æµé‡èµ°è”é€š<br>
å…¶ä»–æµé‡é»˜è®¤èµ°ç”µä¿¡<br>
ä¸¤æ¡é“¾è·¯äº’ä¸ºå¤‡ä»½<br>
R3ä¸ºå‡ºå£è·¯ç”±å™¨<br>
ä½¿ç”¨PATè¿›è¡ŒNAT</p>
<!--more-->
<h2 id="äºŒ-å…³é”®é…ç½®">äºŒã€å…³é”®é…ç½®</h2>
<pre><code>R3_config#interface GigaEthernet0/3
R3_config_g0/3# ip nat outside    //è®¾ç½®å‡ºå£ä¸ºoutside
R3_config_g0/3#!
R3_config#interface GigaEthernet0/4
R3_config_g0/4# ip nat outside    //è®¾ç½®å‡ºå£ä¸ºoutside
R3_config_g0/4#!
R3_config#interface GigaEthernet0/5
R3_config_g0/5# ip policy route-map PBR    //åº”ç”¨PBR
R3_config_g0/5# ip nat inside    //è®¾ç½®å‡ºå£ä¸ºinside
R3_config_g0/5#!
R3_config#ip access-list extended LT    //åŒ¹é…å»å¾€è”é€šçš„æµé‡
R3_config_ext_nacl# permit ip any 23.23.23.0 255.255.255.0
R3_config_ext_nacl# permit ip any 20.20.20.0 255.255.255.0
R3_config_ext_nacl#!
R3_config#ip access-list extended DX     //åŒ¹é…å‡ºå¤–ç½‘çš„å…¶ä»–çš„æµé‡
R3_config_ext_nacl# deny   ip any 23.23.23.0 255.255.255.0
R3_config_ext_nacl# deny   ip any 20.20.20.0 255.255.255.0
R3_config_ext_nacl# permit ip any any    
R3_config_ext_nacl#!
R3_config#ip access-list standard USER1    //åŒ¹é…å†…ç½‘ç”¨æˆ·
R3_config_std_nacl# permit 3.3.3.0 255.255.255.0
R3_config_std_nacl#!
R3_config#ip access-list standard USER2    //åŒ¹é…å†…ç½‘ç”¨æˆ·
R3_config_std_nacl# permit 3.3.3.0 255.255.255.0
R3_config_std_nacl#!
R3_config#route-map PBR 10 permit
R3_config_route_map# match ip address LT
R3_config_route_map# set ip next-hop 23.23.23.2 13.13.13.1 //å»å¾€è”é€šçš„æµé‡é»˜è®¤èµ°è”é€šï¼Œç”µä¿¡çº¿è·¯ä¸ºå¤‡ä»½
R3_config_route_map#!
R3_config#route-map PBR 20 permit
R3_config_route_map# match ip address DX
R3_config_route_map# set ip next-hop 13.13.13.1 23.23.23.2     //å‡ºå¤–ç½‘çš„å…¶ä»–æµé‡é»˜è®¤èµ°ç”µä¿¡ï¼Œè”é€šçº¿è·¯ä¸º
</code></pre>
<p>å¤‡ä»½çº¿è·¯å®ç°</p>
<pre><code>R3_config_route_map#!
R3_config#ip nat inside source list ALL1 interface GigaEthernet0/4    //è®¾ç½®NAT
R3_config#ip nat inside source list ALL2 interface GigaEthernet0/3    //è®¾ç½®NAT
R3_config#
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ NAYOå›¾åº“éƒ¨ç½²å®Œæˆ]]></title>
        <id>https://blog.ikozn.com/post/NAYOå›¾åº“éƒ¨ç½²å®Œæˆ/</id>
        <link href="https://blog.ikozn.com/post/NAYOå›¾åº“éƒ¨ç½²å®Œæˆ/">
        </link>
        <updated>2017-02-05T11:57:20.000Z</updated>
        <summary type="html"><![CDATA[<p>~~æˆ³<a href="https://img.nayo.moe">è¿™é‡Œ</a>è®¿é—®(à¹‘â€¢Ì€.Ì«â€¢Ìà¹‘)~~Nayoå·²æ­»ï¼Œç°è¿ç§»è‡³æ–°<a href="https://img.ikozn.com">åœ°å€</a></p>
]]></summary>
        <content type="html"><![CDATA[<p>~~æˆ³<a href="https://img.nayo.moe">è¿™é‡Œ</a>è®¿é—®(à¹‘â€¢Ì€.Ì«â€¢Ìà¹‘)~~Nayoå·²æ­»ï¼Œç°è¿ç§»è‡³æ–°<a href="https://img.ikozn.com">åœ°å€</a></p>
<!--more-->
<figure data-type="image" tabindex="1"><img src="https://i.loli.net/2018/03/31/5abf7361d0016.jpg" alt="Miv4t" loading="lazy"></figure>
]]></content>
    </entry>
</feed>